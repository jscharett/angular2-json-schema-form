!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("lodash"),require("@angular/forms"),require("ajv"),require("@angular/platform-browser"),require("@angular/common"),require("@angular/flex-layout"),require("@angular/material")):"function"==typeof define&&define.amd?define(["exports","@angular/core","lodash","@angular/forms","ajv","@angular/platform-browser","@angular/common","@angular/flex-layout","@angular/material"],e):e(t.angular2JsonSchemaForm={},t.ng.core,t._,t.ng.forms,t.Ajv,t.ng.platformBrowser,t.ng.common,t.ng.flexLayout,t.ng.material)}(this,function(t,e,o,n,r,i,s,a,l){"use strict";var u="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function p(t,e){return t(e={exports:{}},e.exports),e.exports}var c="undefined"!=typeof window&&window,d="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,f=c||void 0!==u&&u||d,m=f;!function(){if(!f)throw new Error("RxJS could not find any global context (window, self, global)")}();var h={root:m};var y={isFunction:function(t){return"function"==typeof t}},g={isArray:Array.isArray||function(t){return t&&"number"==typeof t.length}};var b,v={isObject:function(t){return null!=t&&"object"==typeof t}},x={errorObject:{e:{}}};function I(){try{return b.apply(this,arguments)}catch(t){return x.errorObject.e=t,x.errorObject}}var w={tryCatch:function(t){return b=t,I}},O=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},C={UnsubscriptionError:function(t){function e(e){t.call(this),this.errors=e;var o=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=o.name="UnsubscriptionError",this.stack=o.stack,this.message=o.message}return O(e,t),e}(Error)};function j(t){return t.reduce(function(t,e){return t.concat(e instanceof C.UnsubscriptionError?e.errors:e)},[])}var F={Subscription:function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var o=this._parent,n=this._parents,r=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,a=n?n.length:0;o;)o.remove(this),o=++s<a&&n[s]||null;if(y.isFunction(r))w.tryCatch(r).call(this)===x.errorObject&&(e=!0,t=t||(x.errorObject.e instanceof C.UnsubscriptionError?j(x.errorObject.e.errors):[x.errorObject.e]));if(g.isArray(i))for(s=-1,a=i.length;++s<a;){var l=i[s];if(v.isObject(l))if(w.tryCatch(l.unsubscribe).call(l)===x.errorObject){e=!0,t=t||[];var u=x.errorObject.e;u instanceof C.UnsubscriptionError?t=t.concat(j(u.errors)):t.push(u)}}if(e)throw new C.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var o=e;switch(typeof e){case"function":o=new t(e);case"object":if(o.closed||"function"!=typeof o.unsubscribe)return o;if(this.closed)return o.unsubscribe(),o;if("function"!=typeof o._addParent){var n=o;(o=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(o),o._addParent(this),o},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var o=e.indexOf(t);-1!==o&&e.splice(o,1)}},t.prototype._addParent=function(t){var e=this._parent,o=this._parents;e&&e!==t?o?-1===o.indexOf(t)&&o.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}()},k={empty:{closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},N=p(function(t,e){var o=h.root.Symbol;e.rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber}),P=(N.rxSubscriber,N.$$rxSubscriber,u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(t){function e(o,n,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=k.empty;break;case 1:if(!o){this.destination=k.empty;break}if("object"==typeof o){o instanceof e?(this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new L(this,o));break}default:this.syncErrorThrowable=!0,this.destination=new L(this,o,n,r)}}return P(e,t),e.prototype[N.rxSubscriber]=function(){return this},e.create=function(t,o,n){var r=new e(t,o,n);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(F.Subscription),M=_,L=function(t){function e(e,o,n,r){var i;t.call(this),this._parentSubscriber=e;var s=this;y.isFunction(o)?i=o:o&&(i=o.next,n=o.error,r=o.complete,o!==k.empty&&(s=Object.create(o),y.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=r}return P(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var o=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,o),this.unsubscribe()):(this.__tryOrUnsub(o),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,o){try{e.call(this._context,o)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(_),D={Subscriber:M};var S={toSubscriber:function(t,e,o){if(t){if(t instanceof D.Subscriber)return t;if(t[N.rxSubscriber])return t[N.rxSubscriber]()}return t||e||o?new D.Subscriber(t,e,o):new D.Subscriber(k.empty)}},A=p(function(t,e){function o(t){var e,o=t.Symbol;return"function"==typeof o?o.observable?e=o.observable:(e=o("observable"),o.observable=e):e="@@observable",e}e.getSymbolObservable=o,e.observable=o(h.root),e.$$observable=e.observable});A.getSymbolObservable,A.observable,A.$$observable;var E={noop:function(){}};function T(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:E.noop}var V={pipe:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return T(t)},pipeFromArray:T},R=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var o=new t;return o.source=this,o.operator=e,o},t.prototype.subscribe=function(t,e,o){var n=this.operator,r=S.toSubscriber(t,e,o);if(n?n.call(r,this.source):r.add(this.source||!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var o=this;if(e||(h.root.Rx&&h.root.Rx.config&&h.root.Rx.config.Promise?e=h.root.Rx.config.Promise:h.root.Promise&&(e=h.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;r=o.subscribe(function(e){if(r)try{t(e)}catch(t){n(t),r.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[A.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:V.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(h.root.Rx&&h.root.Rx.config&&h.root.Rx.config.Promise?t=h.root.Rx.config.Promise:h.root.Promise&&(t=h.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,o){var n;e.subscribe(function(t){return n=t},function(t){return o(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}(),q={Observable:R},H=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};function $(t){var e=t.value,o=t.subscriber;o.closed||(o.next(e),o.complete())}function z(t){var e=t.err,o=t.subscriber;o.closed||o.error(e)}var W={PromiseObservable:function(t){function e(e,o){t.call(this),this.promise=e,this.scheduler=o}return H(e,t),e.create=function(t,o){return new e(t,o)},e.prototype._subscribe=function(t){var e=this,o=this.promise,n=this.scheduler;if(null==n)this._isScalar?t.closed||(t.next(this.value),t.complete()):o.then(function(o){e.value=o,e._isScalar=!0,t.closed||(t.next(o),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){h.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return n.schedule($,0,{value:this.value,subscriber:t})}else o.then(function(o){e.value=o,e._isScalar=!0,t.closed||t.add(n.schedule($,0,{value:o,subscriber:t}))},function(e){t.closed||t.add(n.schedule(z,0,{err:e,subscriber:t}))}).then(null,function(t){h.root.setTimeout(function(){throw t})})},e}(q.Observable)}.PromiseObservable.create,J=q.Observable.prototype.toPromise;function B(t,e,o){return void 0===o&&(o=!1),e.map(function(e){return e(t,o)})}function G(t,e,o){return void 0===o&&(o=!1),e.map(function(e){return e(t,o)})}function U(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o={},n=0,r=t;n<r.length;n++){var i=r[n];if(nt(i))for(var s=0,a=Object.keys(i);s<a.length;s++){var l=a[s],u=i[l],p=o[l];o[l]=Z(p)?"not"===l&&ot(p,"strict")&&ot(u,"strict")?gt(p,u):"object"===lt(p)&&"object"===lt(u)?U(p,u):u:u}}return o}function Y(t){var e=U.apply(void 0,t);return Q(e)?null:e}function Z(t){return void 0!==t&&null!==t}function K(t){return void 0!==t&&null!==t&&""!==t}function Q(t){return rt(t)?!t.length:nt(t)?!Object.keys(t).length:void 0===t||null===t||""===t}function X(t){return"string"==typeof t}function tt(t,e){return void 0===e&&(e=!1),(!e||"number"==typeof t)&&(!isNaN(t)&&t!==t/0)}function et(t,e){return void 0===e&&(e=!1),(!e||"number"==typeof t)&&(!isNaN(t)&&t!==t/0&&t%1==0)}function ot(t,e){return void 0===e&&(e=null),"strict"===e?!0===t||!1===t:!0===e?!0===t||1===t||"true"===t||"1"===t:!1===e?!1===t||0===t||"false"===t||"0"===t:!0===t||1===t||"true"===t||"1"===t||!1===t||0===t||"false"===t||"0"===t}function nt(t){return null!==t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)}function rt(t){return Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function it(t){return"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function st(t){return"object"==typeof t&&"[object Map]"===Object.prototype.toString.call(t)}function at(t){return"object"==typeof t&&"[object Set]"===Object.prototype.toString.call(t)}function lt(t,e){return void 0===e&&(e=!1),Z(t)?rt(t)?"array":nt(t)?"object":ot(t,"strict")?"boolean":et(t,e)?"integer":tt(t,e)?"number":X(t)||!e&&it(t)?"string":null:"null"}function ut(t,e){switch(e){case"string":return X(t)||it(t);case"number":return tt(t);case"integer":return et(t);case"boolean":return ot(t);case"null":return!K(t);default:return console.error('isType error: "'+e+'" is not a recognized type.'),null}}function pt(t){return X(t)||tt(t)||ot(t,"strict")||null===t}function ct(t,e,o){if(void 0===o&&(o=!0),!Z(t))return null;if(X(e)&&(e=[e]),o&&yt("integer",e)){if(et(t,"strict"))return t;if(et(t))return parseInt(t,10)}if(yt("number",e)||!o&&yt("integer",e)){if(tt(t,"strict"))return t;if(tt(t))return parseFloat(t)}if(yt("string",e)){if(X(t))return t;if(it(t))return t.toISOString().slice(0,10);if(tt(t))return t.toString()}if(it(t)&&(yt("integer",e)||yt("number",e)))return t.getTime();if(yt("boolean",e)){if(ot(t,!0))return!0;if(ot(t,!1))return!1}return null}function dt(t,e){if(rt(e)||(e=[e]),e.includes("null")&&!K(t))return null;if(e.includes("boolean")&&!ot(t,"strict"))return t;if(e.includes("integer")&&null!==(o=ct(t,"integer")))return+o;if(e.includes("number")&&null!==(o=ct(t,"number")))return+o;if((X(t)||tt(t,"strict"))&&e.includes("string"))return ct(t,"string");if(e.includes("boolean")&&ot(t))return ct(t,"boolean");if(e.includes("string")){if(null===t)return"";var o;if(null!==(o=ct(t,"string")))return o}if(e.includes("number")||e.includes("integer")){if(!0===t)return 1;if(!1===t||null===t||""===t)return 0}if(e.includes("number")&&(o=parseFloat(t)))return o;if(e.includes("integer")&&(o=parseInt(t,10)))return o;return e.includes("boolean")?!!t:!e.includes("number")&&!e.includes("integer")||e.includes("null")?void 0:0}function ft(t){return!!t&&"function"==typeof t.then}function mt(t){return!!t&&"function"==typeof t.subscribe}function ht(t){var e=ft(t)?W(t):t;return mt(e)?e:(console.error("toObservable error: Expected validator to return Promise or Observable."),new R)}function yt(t,e,o){return void 0===o&&(o=!1),!(!Z(t)||!rt(e))&&(rt(t)?t[o?"every":"some"](function(t){return e.includes(t)}):e.includes(t))}function gt(t,e){return!!t&&!e||!t&&!!e}var bt=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function vt(t,e){var o=function(t){return!at(t)&&!rt(t)&&!X(t)};if(o(e))return t;o(t)&&(t="");var n=function(t){return at(t)?t:rt(t)?new Set(t):new Set(t.split(" "))},r=n(t);return n(e).forEach(function(t){return r.add(t)}),at(t)?r:rt(t)?Array.from(r):Array.from(r).join(" ")}function xt(t,e){return void 0===e&&(e=!1),"object"!=typeof t||null===t?t:st(t)?new Map(t):at(t)?new Set(t):rt(t)?t.slice():nt(t)?bt({},t):(e&&console.error("copy error: Object to copy must be a JavaScript object or value."),t)}function It(t,e,o,n,r){if(void 0===o&&(o=!1),void 0===n&&(n=t),void 0===r&&(r=!1),!Q(t)){if((nt(t)||rt(t))&&"function"==typeof e)for(var i=0,s=Object.keys(t);i<s.length;i++){var a=s[i],l=t[a];"bottom-up"===o&&(nt(l)||rt(l))&&It(l,e,o,n),e(l,a,t,n),"top-down"===o&&(nt(l)||rt(l))&&It(l,e,o,n)}r&&("function"!=typeof e&&(console.error("forEach error: Iterator must be a function."),console.error("function",e)),nt(t)||rt(t)||(console.error("forEach error: Input object must be an object or array."),console.error("object",t)))}}function wt(t,e,o){if(void 0===o&&(o=!1),K(t)){if((nt(t)||rt(t))&&"function"!=typeof t){for(var n=rt(t)?[]:{},r=0,i=Object.keys(t);r<i.length;r++){var s=i[r];n[s]=e(t[s],s,t)}return n}o&&("function"!=typeof e&&(console.error("forEachCopy error: Iterator must be a function."),console.error("function",e)),nt(t)||rt(t)||(console.error("forEachCopy error: Input object must be an object or array."),console.error("object",t)))}}function Ot(t,e){if(!(t&&["number","string","symbol"].includes(typeof e)&&(nt(t)||rt(t)||st(t)||at(t))))return!1;if(st(t)||at(t))return t.has(e);if("number"==typeof e){if(rt(t))return t[e];e+=""}return t.hasOwnProperty(e)}function Ct(t,e,o,n,r){if(void 0===o&&(o=[]),void 0===n&&(n=function(t){return t}),void 0===r&&(r=function(t){return t}),!nt(e))return t;nt(t)||(t={});for(var i=0,s=Object.keys(e);i<s.length;i++){var a=s[i];!yt(a,o)&&Z(e[a])&&(t[n(a)]=r(e[a]))}return t}function jt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=[],n=0,r=t;n<r.length;n++){var i=r[n];o.includes(i)||o.push(i)}return o}function Ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=null,n=function(t){if(X(t)&&(t=[t]),!(o=null===o?t.slice():o.filter(function(e){return t.includes(e)})).length)return{value:[]}},r=0,i=t;r<i.length;r++){var s=n(i[r]);if("object"==typeof s)return s.value}return o}function kt(t){return t&&Nt(t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," "))}function Nt(t,e){if(!X(t))return t;var o=["a","an","and","as","at","but","by","en","for","if","in","nor","of","on","or","per","the","to","v","v.","vs","vs.","via"];X(e)&&(e=e.split("|")),rt(e)&&(o=o.concat(e));var n=o.map(function(t){return t.toLowerCase()}),r=t===t.toUpperCase()||t===t.toLowerCase(),i="";return(t=t.trim()).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,s){if(r||-1===e.slice(1).search(/[A-Z]|\../)){var a=void 0,l=o[n.indexOf(e.toLowerCase())];return a=l?l===l.toLowerCase()&&(0===s||s+e.length===t.length||":"===i||-1!==t[s-1].search(/[^\s-]/)||"-"!==t[s-1]&&"-"===t[s+e.length])?l[0].toUpperCase()+l.slice(1):l:r?-1!==e.slice(1).search(/\../)?e.toLowerCase():e[0].toUpperCase()+e.slice(1).toLowerCase():e[0].toUpperCase()+e.slice(1),i=e.slice(-1),a}return e})}var Pt=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},_t=function(){function t(){}return t.get=function(t,e,o,n,r,i){if(void 0===o&&(o=0),void 0===n&&(n=null),void 0===r&&(r=!1),void 0===i&&(i=!1),null===t)return!r&&void 0;var s=this.parse(e,i);if("object"==typeof t&&null!==s){var a=t;if(o>=s.length||n<=-s.length)return t;o<=-s.length&&(o=0),(!Z(n)||n>=s.length)&&(n=s.length);for(var l=0,u=s=s.slice(o,n);l<u.length;l++){var p=u[l];if("-"===p&&rt(a)&&a.length&&(p=a.length-1),st(a)&&a.has(p))a=a.get(p);else{if("object"!=typeof a||null===a||!Ot(a,p))return i&&(console.error('get error: "'+p+'" key not found in object.'),console.error(e),console.error(t)),!r&&void 0;a=a[p]}}return!!r||a}return i&&null===s&&console.error("get error: Invalid JSON Pointer: "+e),i&&"object"!=typeof t&&(console.error("get error: Invalid object:"),console.error(t)),!r&&void 0},t.getCopy=function(t,e,o,n,r,i){void 0===o&&(o=0),void 0===n&&(n=null),void 0===r&&(r=!1),void 0===i&&(i=!1);var s=this.get(t,e,o,n,r,i);return this.forEachDeepCopy(s)},t.getFirst=function(t,e,o){if(void 0===e&&(e=null),void 0===o&&(o=!1),!Q(t)){if(rt(t)){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(!Q(i)){if(!(rt(i)&&i.length>=2))return void console.error("getFirst error: Input not in correct format.\nShould be: [ [ object1, pointer1 ], [ object 2, pointer2 ], etc... ]");if(Q(i[0])||Q(i[1]))continue;if(l=o?this.getCopy(i[0],i[1]):this.get(i[0],i[1]))return l}}return e}if(st(t)){for(var s=0,a=t;s<a.length;s++){var l,u=a[s],p=u[0],c=u[1];if(null!==p&&this.isJsonPointer(c))if(l=o?this.getCopy(p,c):this.get(p,c))return l}return e}return console.error("getFirst error: Input not in correct format.\nShould be: [ [ object1, pointer1 ], [ object 2, pointer2 ], etc... ]"),e}},t.getFirstCopy=function(t,e){return void 0===e&&(e=null),this.getFirst(t,e,!0)},t.set=function(t,e,o,n){void 0===n&&(n=!1);var r=this.parse(e);if(null!==r&&r.length){for(var i=t,s=0;s<r.length-1;++s){var a=r[s];"-"===a&&rt(i)&&(a=i.length),st(i)&&i.has(a)?i=i.get(a):(Ot(i,a)||(i[a]=r[s+1].match(/^(\d+|-)$/)?[]:{}),i=i[a])}var l=r[r.length-1];return rt(i)&&"-"===l?i.push(o):n&&rt(i)&&!isNaN(+l)?i.splice(l,0,o):st(i)?i.set(l,o):i[l]=o,t}return console.error("set error: Invalid JSON Pointer: "+e),t},t.setCopy=function(t,e,o,n){void 0===n&&(n=!1);var r=this.parse(e);if(null!==r){for(var i=xt(t),s=i,a=0;a<r.length-1;++a){var l=r[a];"-"===l&&rt(s)&&(l=s.length),st(s)&&s.has(l)?(s.set(l,xt(s.get(l))),s=s.get(l)):(Ot(s,l)||(s[l]=r[a+1].match(/^(\d+|-)$/)?[]:{}),s[l]=xt(s[l]),s=s[l])}var u=r[r.length-1];return rt(s)&&"-"===u?s.push(o):n&&rt(s)&&!isNaN(+u)?s.splice(u,0,o):st(s)?s.set(u,o):s[u]=o,i}return console.error("setCopy error: Invalid JSON Pointer: "+e),t},t.insert=function(t,e,o){return this.set(t,e,o,!0)},t.insertCopy=function(t,e,o){return this.setCopy(t,e,o,!0)},t.remove=function(t,e){var o=this.parse(e);if(null!==o&&o.length){var n=o.pop(),r=this.get(t,o);return rt(r)?("-"===n&&(n=r.length-1),r.splice(n,1)):nt(r)&&delete r[n],t}return console.error("remove error: Invalid JSON Pointer: "+e),t},t.has=function(t,e){return this.get(t,e,0,null,!0)},t.dict=function(t){var e={};return this.forEachDeep(t,function(t,o){"object"!=typeof t&&(e[o]=t)}),e},t.forEachDeep=function(t,e,o,n,r){if(void 0===e&&(e=function(t){return t}),void 0===o&&(o=!1),void 0===n&&(n=""),void 0===r&&(r=t),"function"==typeof e){if(o||e(t,n,r),nt(t)||rt(t))for(var i=0,s=Object.keys(t);i<s.length;i++){var a=s[i],l=n+"/"+this.escape(a);this.forEachDeep(t[a],e,o,l,r)}o&&e(t,n,r)}else console.error("forEachDeep error: Iterator is not a function:",e)},t.forEachDeepCopy=function(t,e,o,n,r){if(void 0===e&&(e=function(t){return t}),void 0===o&&(o=!1),void 0===n&&(n=""),void 0===r&&(r=t),"function"!=typeof e)return console.error("forEachDeepCopy error: Iterator is not a function:",e),null;if(nt(t)||rt(t)){var i=rt(t)?t.slice():Pt({},t);o||(i=e(i,n,r));for(var s=0,a=Object.keys(i);s<a.length;s++){var l=a[s],u=n+"/"+this.escape(l);i[l]=this.forEachDeepCopy(i[l],e,o,u,r)}return o&&(i=e(i,n,r)),i}return e(t,n,r)},t.escape=function(t){return t.toString().replace(/~/g,"~0").replace(/\//g,"~1")},t.unescape=function(t){return t.toString().replace(/~1/g,"/").replace(/~0/g,"~")},t.parse=function(t,e){return void 0===e&&(e=!1),this.isJsonPointer(t)?rt(t)?t:"string"==typeof t?("#"===t[0]&&(t=t.slice(1)),""===t||"/"===t?[]:t.slice(1).split("/").map(this.unescape)):void 0:(e&&console.error("parse error: Invalid JSON Pointer: "+t),null)},t.compile=function(t,e,o){var n=this;return void 0===e&&(e=""),void 0===o&&(o=!1),"#"===t?"":this.isJsonPointer(t)?rt(t)?0===t.length?"":"/"+t.map(function(t){return""===t?e:n.escape(t)}).join("/"):"string"==typeof t?("#"===t[0]&&(t=t.slice(1)),t):void 0:(o&&console.error("compile error: Invalid JSON Pointer: "+t),null)},t.toKey=function(t,e){void 0===e&&(e=!1);var o=this.parse(t,e);return null===o?null:o.length?o[o.length-1]:""},t.isJsonPointer=function(t){if(rt(t))return t.every(function(t){return"string"==typeof t});if(X(t)){if(""===t||"#"===t)return!0;if("/"===t[0]||"#/"===t.slice(0,2))return!/(~[^01]|~$)/g.test(t)}return!1},t.isSubPointer=function(t,e,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=!1),this.isJsonPointer(t)&&this.isJsonPointer(e))return(t=this.compile(t,"",n))===(e=this.compile(e,"",n))?o:t+"/"===e.slice(0,t.length+1);if(n){var r="";this.isJsonPointer(t)||(r+=" 1: "+t),this.isJsonPointer(e)||(r+=" 2: "+e),console.error("isSubPointer error: Invalid JSON Pointer "+r)}},t.toIndexedPointer=function(t,e,o){if(void 0===o&&(o=null),this.isJsonPointer(t)&&rt(e)){var n=this.compile(t);if(st(o)){var r=0;return n.replace(/\/\-(?=\/|$)/g,function(t,i){return o.has(n.slice(0,i))?"/"+e[r++]:t})}for(var i=0,s=e;i<s.length;i++){var a=s[i];n=n.replace("/-","/"+a)}return n}this.isJsonPointer(t)||console.error("toIndexedPointer error: Invalid JSON Pointer: "+t),rt(e)||console.error("toIndexedPointer error: Invalid indexArray: "+e)},t.toGenericPointer=function(t,e){if(void 0===e&&(e=new Map),this.isJsonPointer(t)&&st(e)){for(var o=this.parse(t),n=1;n<o.length;n++){var r=this.compile(o.slice(0,n));e.has(r)&&e.get(r)<=+o[n]&&(o[n]="-")}return this.compile(o)}this.isJsonPointer(t)||console.error("toGenericPointer error: invalid JSON Pointer: "+t),st(e)||console.error("toGenericPointer error: invalid arrayMap: "+e)},t.toControlPointer=function(t,e,o){void 0===o&&(o=!1);var n=this.parse(t),r=[],i=e;if(null!==n){for(var s=0,a=n;s<a.length;s++){var l=a[s];if(Ot(i,"controls")&&(r.push("controls"),i=i.controls),rt(i)&&"-"===l)r.push((i.length-1).toString()),i=i[i.length-1];else if(Ot(i,l))r.push(l),i=i[l];else{if(o)return console.error('toControlPointer error: Unable to find "'+l+'" item in FormGroup.'),console.error(t),void console.error(e);r.push(l),i={controls:{}}}}return this.compile(r)}console.error("toControlPointer error: Invalid JSON Pointer: "+t)},t.toSchemaPointer=function(t,e){if(this.isJsonPointer(t)&&"object"==typeof e){var o=this.parse(t);if(!o.length)return"";var n=o.shift();if("object"===e.type||e.properties||e.additionalProperties){if((e.properties||{})[n])return"/properties/"+this.escape(n)+this.toSchemaPointer(o,e.properties[n]);if(e.additionalProperties)return"/additionalProperties"+this.toSchemaPointer(o,e.additionalProperties)}if(("array"===e.type||e.items)&&(tt(n)||"-"===n||""===n)){var r="-"===n||""===n?0:+n;if(rt(e.items)){if(r<e.items.length)return"/items/"+r+this.toSchemaPointer(o,e.items[r]);if(e.additionalItems)return"/additionalItems"+this.toSchemaPointer(o,e.additionalItems)}else{if(nt(e.items))return"/items"+this.toSchemaPointer(o,e.items);if(nt(e.additionalItems))return"/additionalItems"+this.toSchemaPointer(o,e.additionalItems)}}return console.error("toSchemaPointer error: Data pointer "+t+" not compatible with schema "+e),null}return this.isJsonPointer(t)||console.error("toSchemaPointer error: Invalid JSON Pointer: "+t),"object"!=typeof e&&console.error("toSchemaPointer error: Invalid JSON Schema: "+e),null},t.toDataPointer=function(t,e,o){if(void 0===o&&(o=!1),this.isJsonPointer(t)&&"object"==typeof e&&this.has(e,t)){var n=this.parse(t);if(!n.length)return"";var r=n.shift();if("properties"===r||"items"===r&&rt(e.items)){var i,s=n.shift();return null===(i=this.toDataPointer(n,e[r][s]))?null:"/"+s+i}if("additionalItems"===r||"items"===r&&nt(e.items))return null===(i=this.toDataPointer(n,e[r]))?null:"/-"+i;if(["allOf","anyOf","oneOf"].includes(r)){s=n.shift();return this.toDataPointer(n,e[r][s])}return"not"===r?this.toDataPointer(n,e[r]):(["contains","definitions","dependencies","additionalItems","additionalProperties","patternProperties","propertyNames"].includes(r)&&o&&console.error("toDataPointer error: Ambiguous location"),"")}return o&&(this.isJsonPointer(t)||console.error("toDataPointer error: Invalid JSON Pointer: "+t),"object"!=typeof e&&console.error("toDataPointer error: Invalid JSON Schema: "+e),"object"!=typeof e&&console.error("toDataPointer error: Pointer "+t+" invalid for Schema: "+e)),null},t.parseObjectPath=function(t){if(rt(t))return t;if(this.isJsonPointer(t))return this.parse(t);if("string"==typeof t){for(var e=0,o=[];e<t.length;){var n=t.indexOf(".",e),r=t.indexOf("[",e);if(-1===n&&-1===r)o.push(t.slice(e)),e=t.length;else if(-1!==n&&(n<r||-1===r))o.push(t.slice(e,n)),e=n+1;else{r>e&&(o.push(t.slice(e,r)),e=r);var i=t.charAt(r+1);if('"'===i||"'"===i){for(var s=t.indexOf(i+"]",r);-1!==s&&"\\"===t.charAt(s-1);)s=t.indexOf(i+"]",s+2);-1===s&&(s=t.length),o.push(t.slice(e+2,s).replace(new RegExp("\\"+i,"g"),i)),e=s+2}else{-1===(s=t.indexOf("]",r))&&(s=t.length),o.push(t.slice(e+1,s)),e=s+1}"."===t.charAt(e)&&e++}}return o}console.error("parseObjectPath error: Input object path must be a string.")},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),Mt=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Lt={EmptyObservable:function(t){function e(e){t.call(this),this.scheduler=e}return Mt(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(q.Observable)},Dt={isArrayLike:function(t){return t&&"number"==typeof t.length}};var St={isPromise:function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},At=p(function(t,e){function o(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var o=t.Set;if(o&&"function"==typeof(new o)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var r=Object.getOwnPropertyNames(n.prototype),i=0;i<r.length;++i){var s=r[i];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}e.symbolIteratorPonyfill=o,e.iterator=o(h.root),e.$$iterator=e.iterator}),Et=(At.symbolIteratorPonyfill,At.iterator,At.$$iterator,u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tt={InnerSubscriber:function(t){function e(e,o,n){t.call(this),this.parent=e,this.outerValue=o,this.outerIndex=n,this.index=0}return Et(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(D.Subscriber)};var Vt={subscribeToResult:function(t,e,o,n){var r=new Tt.InnerSubscriber(t,o,n);if(r.closed)return null;if(e instanceof q.Observable)return e._isScalar?(r.next(e.value),r.complete(),null):(r.syncErrorThrowable=!0,e.subscribe(r));if(Dt.isArrayLike(e)){for(var i=0,s=e.length;i<s&&!r.closed;i++)r.next(e[i]);r.closed||r.complete()}else{if(St.isPromise(e))return e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,function(t){h.root.setTimeout(function(){throw t})}),r;if(e&&"function"==typeof e[At.iterator])for(var a=e[At.iterator]();;){var l=a.next();if(l.done){r.complete();break}if(r.next(l.value),r.closed)break}else if(e&&"function"==typeof e[A.observable]){var u=e[A.observable]();if("function"==typeof u.subscribe)return u.subscribe(new Tt.InnerSubscriber(t,o,n));r.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var p="You provided "+(v.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";r.error(new TypeError(p))}}return null}},Rt=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},qt={OuterSubscriber:function(t){function e(){t.apply(this,arguments)}return Rt(e,t),e.prototype.notifyNext=function(t,e,o,n,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(D.Subscriber)},Ht=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},$t=function(t){function e(e,o){t.call(this),this.sources=e,this.resultSelector=o}return Ht(e,t),e.create=function(){for(var t=[],o=0;o<arguments.length;o++)t[o-0]=arguments[o];if(null===t||0===arguments.length)return new Lt.EmptyObservable;var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&g.isArray(t[0])&&(t=t[0]),0===t.length?new Lt.EmptyObservable:new e(t,n)},e.prototype._subscribe=function(t){return new zt(t,this.sources,this.resultSelector)},e}(q.Observable),zt=function(t){function e(e,o,n){t.call(this,e),this.sources=o,this.resultSelector=n,this.completed=0,this.haveValues=0;var r=o.length;this.total=r,this.values=new Array(r);for(var i=0;i<r;i++){var s=o[i],a=Vt.subscribeToResult(this,s,null,i);a&&(a.outerIndex=i,this.add(a))}}return Ht(e,t),e.prototype.notifyNext=function(t,e,o,n,r){this.values[o]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,o=this.haveValues,n=this.resultSelector,r=this.values,i=r.length;if(t._hasValue){if(this.completed++,this.completed===i){if(o===i){var s=n?n.apply(this,r):r;e.next(s)}e.complete()}}else e.complete()},e}(qt.OuterSubscriber),Wt={ForkJoinObservable:$t}.ForkJoinObservable.create,Jt=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var Bt=function(t,e){return function(o){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return o.lift(new Gt(t,e))}},Gt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Yt(t,this.project,this.thisArg))},t}(),Ut=Gt,Yt=function(t){function e(e,o,n){t.call(this,e),this.project=o,this.count=0,this.thisArg=n||this}return Jt(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(D.Subscriber),Zt={map:Bt,MapOperator:Ut};var Kt=function(t,e){return Zt.map(t,e)(this)},Qt={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d(?::[0-5]\d)?(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,color:/^\s*(#(?:[\da-f]{3}){1,2}|rgb\((?:\d{1,3},\s*){2}\d{1,3}\)|rgba\((?:\d{1,3},\s*){3}\d*\.?\d+\)|hsl\(\d{1,3}(?:,\s*\d{1,3}%){2}\)|hsla\(\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\))\s*$/gi,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,regex:function(t){if(/[^\\]\\Z/.test(t))return!1;try{return!0}catch(t){return!1}}},Xt=function(){function t(){}return t.required=function(e){switch(void 0===e&&(e=!0),e){case!0:return function(t,e){return void 0===e&&(e=!1),e?null:K(t.value)?null:{required:!0}};case!1:return t.nullValidator;default:return K(e.value)?null:{required:!0}}},t.type=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n=t.value;return gt(rt(e)?e.some(function(t){return ut(n,t)}):ut(n,e),o)?null:{type:{requiredType:e,currentValue:n}}}:t.nullValidator},t.enum=function(e){return rt(e)?function(t,n){if(void 0===n&&(n=!1),Q(t.value))return null;var r=t.value,i=function(t,e){return t===e||tt(t)&&+e==+t||ot(t,"strict")&&ct(e,"boolean")===t||null===t&&!K(e)||o.isEqual(t,e)};return gt(rt(r)?r.every(function(t){return e.some(function(e){return i(e,t)})}):e.some(function(t){return i(t,r)}),n)?null:{enum:{allowedValues:e,currentValue:r}}}:t.nullValidator},t.const=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n,r,i=t.value;return gt((n=e)===(r=i)||tt(n)&&+r==+n||ot(n,"strict")&&ct(r,"boolean")===n||null===n&&!K(r),o)?null:{const:{requiredValue:e,currentValue:i}}}:t.nullValidator},t.minLength=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n=X(t.value)?t.value.length:0;return gt(n>=e,o)?null:{minLength:{minimumLength:e,currentLength:n}}}:t.nullValidator},t.maxLength=function(e){return K(e)?function(t,o){void 0===o&&(o=!1);var n=X(t.value)?t.value.length:0;return gt(n<=e,o)?null:{maxLength:{maximumLength:e,currentLength:n}}}:t.nullValidator},t.pattern=function(e,o){return void 0===o&&(o=!1),K(e)?function(t,n){if(void 0===n&&(n=!1),Q(t.value))return null;var r,i;"string"==typeof e?(i=o?"^"+e+"$":e,r=new RegExp(i)):(i=e.toString(),r=e);var s=t.value;return gt(!!X(s)&&r.test(s),n)?null:{pattern:{requiredPattern:i,currentValue:s}}}:t.nullValidator},t.format=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n,r=t.value;if(X(r)){var i=Qt[e];"object"==typeof i?n=i.test(r):"function"==typeof i?n=i(r):(console.error('format validator error: "'+e+'" is not a recognized format.'),n=!0)}else n=["date","time","date-time"].includes(e)&&"[object Date]"===Object.prototype.toString.call(r);return gt(n,o)?null:{format:{requiredFormat:e,currentValue:r}}}:t.nullValidator},t.minimum=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n=t.value;return gt(!tt(n)||n>=e,o)?null:{minimum:{minimumValue:e,currentValue:n}}}:t.nullValidator},t.exclusiveMinimum=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n=t.value;return gt(!tt(n)||+n<e,o)?null:{exclusiveMinimum:{exclusiveMinimumValue:e,currentValue:n}}}:t.nullValidator},t.maximum=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n=t.value;return gt(!tt(n)||+n<=e,o)?null:{maximum:{maximumValue:e,currentValue:n}}}:t.nullValidator},t.exclusiveMaximum=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n=t.value;return gt(!tt(n)||+n<e,o)?null:{exclusiveMaximum:{exclusiveMaximumValue:e,currentValue:n}}}:t.nullValidator},t.multipleOf=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n=t.value;return gt(tt(n)&&n%e==0,o)?null:{multipleOf:{multipleOfValue:e,currentValue:n}}}:t.nullValidator},t.minProperties=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),Q(t.value))return null;var n=Object.keys(t.value).length||0;return gt(n>=e,o)?null:{minProperties:{minimumProperties:e,currentProperties:n}}}:t.nullValidator},t.maxProperties=function(e){return K(e)?function(t,o){void 0===o&&(o=!1);var n=Object.keys(t.value).length||0;return gt(n<=e,o)?null:{maxProperties:{maximumProperties:e,currentProperties:n}}}:t.nullValidator},t.dependencies=function(e){return"object"!==lt(e)||Q(e)?t.nullValidator:function(o,n){if(void 0===n&&(n=!1),Q(o.value))return null;var r=U(wt(e,function(r,i){if(!K(o.value[i]))return null;var s,a,l={},u={};"array"===lt(e[i])?s=e[i]:"object"===lt(e[i])&&(s=e[i].required||[],u=e[i].properties||{});for(var p=0,c=s;p<c.length;p++){var d=c[p];gt(!K(o.value[d]),n)&&(l[d]={required:!0})}return Q(l=U(l,wt(u,function(e,n){var r,i=U(wt(e,function(r,i){var s=null;if("maximum"===r||"minimum"===r){var a=!!e["exclusiveM"+r.slice(1)];s=t[r](i,a)}else"function"==typeof t[r]&&(s=t[r](i));return Z(s)?s(o.value[n]):null}));return Q(i)?null:((r={})[n]=i,r)})))?null:((a={})[i]=l,a)}));return Q(r)?null:r}},t.minItems=function(e){return K(e)?function(t,o){if(void 0===o&&(o=!1),!Z(t.value))return null;var n=rt(t.value)?t.value.length:0;return gt(n>=e,o)?null:{minItems:{minimumItems:e,currentItems:n}}}:t.nullValidator},t.maxItems=function(e){return K(e)?function(t,o){void 0===o&&(o=!1);var n=rt(t.value)?t.value.length:0;return gt(n<=e,o)?null:{maxItems:{maximumItems:e,currentItems:n}}}:t.nullValidator},t.uniqueItems=function(e){return void 0===e&&(e=!0),e?function(t,e){if(void 0===e&&(e=!1),Q(t.value))return null;for(var o=t.value.slice().sort(),n=[],r=1;r<o.length;r++)o[r-1]!==o[r]||n.includes(o[r])||n.push(o[r]);return gt(!n.length,e)?null:{uniqueItems:{duplicateItems:n}}}:t.nullValidator},t.contains=function(e){return void 0===e&&(e=!0),e?function(t,o){if(void 0===o&&(o=!1),Q(t.value)||!rt(t.value))return null;var n=t.value;return gt(!0,o)?null:{contains:{requiredItem:e,currentItems:n}}}:t.nullValidator},t.nullValidator=function(t){return null},t.composeAnyOf=function(t){if(!t)return null;var e=t.filter(Z);return 0===e.length?null:function(o,n){void 0===n&&(n=!1);var r=B(o,e,n).filter(Z);return gt(t.length>r.length,n)?null:U.apply(void 0,r.concat([{anyOf:!n}]))}},t.composeOneOf=function(t){if(!t)return null;var e=t.filter(Z);return 0===e.length?null:function(o,n){void 0===n&&(n=!1);var r=B(o,e);if(gt(1===t.length-r.filter(Z).length,n))return null;var i=B(o,e,n);return U.apply(void 0,r.concat(i,[{oneOf:!n}]))}},t.composeAllOf=function(t){if(!t)return null;var e=t.filter(Z);return 0===e.length?null:function(t,o){void 0===o&&(o=!1);var n=Y(B(t,e,o));return gt(null===n,o)?null:U(n,{allOf:!o})}},t.composeNot=function(t){return t?function(e,o){if(void 0===o&&(o=!1),Q(e.value))return null;var n=t(e,!o);return gt(null===n,o)?null:U(n,{not:!o})}:null},t.compose=function(t){if(!t)return null;var e=t.filter(Z);return 0===e.length?null:function(t,o){return void 0===o&&(o=!1),Y(B(t,e,o))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(Z);return 0===e.length?null:function(t){var o=G(t,e).map(ht);return Kt.call(Wt(o),Y)}},t.min=function(e){return K(e)?function(t){if(Q(t.value)||Q(e))return null;var o=parseFloat(t.value),n=t.value;return isNaN(o)||o>=e?null:{min:{min:e,actual:n}}}:t.nullValidator},t.max=function(e){return K(e)?function(t){if(Q(t.value)||Q(e))return null;var o=parseFloat(t.value),n=t.value;return isNaN(o)||o<=e?null:{max:{max:e,actual:n}}}:t.nullValidator},t.requiredTrue=function(e){return e?!0===e.value?null:{required:!0}:t.nullValidator},t.email=function(e){if(!e)return t.nullValidator;return/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/.test(e.value)?null:{email:!0}},t}(),te=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if((t=t.filter(function(t){return!Q(t)})).some(function(t){return!nt(t)}))return null;for(var n={},r=0,i=t;r<i.length;r++)for(var s=i[r],a=function(e){var r,i,a=n[e],l=s[e];if(!Ot(n,e)||o.isEqual(a,l))n[e]=l;else switch(e){case"allOf":if(!rt(a)||!rt(l))return{value:{allOf:t.slice()}};n.allOf=ee.apply(void 0,a.concat(l));break;case"additionalItems":case"additionalProperties":case"contains":case"propertyNames":if(nt(a)&&nt(l))n[e]=ee(a,l);else{if("additionalProperties"!==e||!1!==a&&!1!==l)return{value:{allOf:t.slice()}};n.combinedSchema=!1}break;case"anyOf":case"oneOf":case"enum":if(!rt(a)||!rt(l))return{value:{allOf:t.slice()}};if(n[e]=a.filter(function(t){return l.findIndex(function(e){return o.isEqual(t,e)})>-1}),!n[e].length)return{value:{allOf:t.slice()}};break;case"definitions":if(!nt(a)||!nt(l))return{value:{allOf:t.slice()}};for(var u=te({},a),p=0,c=Object.keys(l);p<c.length;p++){if(Ot(u,C=c[p])&&!o.isEqual(u[C],l[C]))return{value:{allOf:t.slice()}};u[C]=l[C]}n.definitions=u;break;case"dependencies":if(!nt(a)||!nt(l))return{value:{allOf:t.slice()}};u=te({},a);for(var d=0,f=Object.keys(l);d<f.length;d++){if(!Ot(u,C=f[d])||o.isEqual(u[C],l[C]))u[C]=l[C];else if(rt(l[C])&&rt(u[C]))u[C]=jt.apply(void 0,u[C].concat(l[C]));else{if(!rt(l[C])&&!nt(l[C])||!rt(u[C])&&!nt(u[C]))return{value:{allOf:t.slice()}};var m=rt(n.required)?n.required:[],h=rt(u[C])?{required:jt.apply(void 0,m.concat([u[C]]))}:u[C],y=rt(l[C])?{required:jt.apply(void 0,m.concat([l[C]]))}:l[C];u[C]=ee(h,y)}}n.dependencies=u;break;case"items":if(rt(a)&&rt(l)){if(n.items=a.filter(function(t){return l.findIndex(function(e){return o.isEqual(t,e)})>-1}),!n.items.length)return{value:{allOf:t.slice()}}}else if(nt(a)&&nt(l))n.items=ee(a,l);else if(rt(a)&&nt(l))n.items=a.map(function(t){return ee(t,l)});else{if(!nt(a)||!rt(l))return{value:{allOf:t.slice()}};n.items=l.map(function(t){return ee(t,a)})}break;case"multipleOf":if(!tt(a)||!tt(l))return{value:{allOf:t.slice()}};var g=function(t,e){return e?g(e,t%e):t};n.multipleOf=(r=a)*(i=l)/g(r,i);break;case"maximum":case"exclusiveMaximum":case"maxLength":case"maxItems":case"maxProperties":if(!tt(a)||!tt(l))return{value:{allOf:t.slice()}};n[e]=Math.min(a,l);break;case"minimum":case"exclusiveMinimum":case"minLength":case"minItems":case"minProperties":if(!tt(a)||!tt(l))return{value:{allOf:t.slice()}};n[e]=Math.max(a,l);break;case"not":if(!nt(a)||!nt(l))return{value:{allOf:t.slice()}};var b=[a,l].reduce(function(t,e){return rt(e.anyOf)&&1===Object.keys(e).length?t.concat(e.anyOf):t.concat([e])},[]);n.not={anyOf:b};break;case"patternProperties":if(!nt(a)||!nt(l))return{value:{allOf:t.slice()}};u=te({},a);for(var v=0,x=Object.keys(l);v<x.length;v++){if(!Ot(u,C=x[v])||o.isEqual(u[C],l[C]))u[C]=l[C];else{if(!nt(l[C])||!nt(u[C]))return{value:{allOf:t.slice()}};u[C]=ee(u[C],l[C])}}n.patternProperties=u;break;case"properties":if(!nt(a)||!nt(l))return{value:{allOf:t.slice()}};var I=te({},a);Ot(l,"additionalProperties")&&Object.keys(a).filter(function(t){return!Object.keys(l).includes(t)}).forEach(function(t){!1===l.additionalProperties?delete I[t]:nt(l.additionalProperties)&&(I[t]=ee(I[t],l.additionalProperties))});for(var w=0,O=Object.keys(l);w<O.length;w++){var C=O[w];if(o.isEqual(I[C],l[C])||!Ot(I,C)&&!Ot(I,"additionalProperties"))I[C]=l[C];else if(!Ot(I,C)&&Ot(I,"additionalProperties"))nt(I.additionalProperties)&&(I[C]=ee(I.additionalProperties,l[C]));else{if(!nt(l[C])||!nt(I[C]))return{value:{allOf:t.slice()}};I[C]=ee(I[C],l[C])}}n.properties=I;break;case"required":if(rt(a)&&rt(l))n.required=jt.apply(void 0,a.concat(l));else{if("boolean"!=typeof l||"boolean"!=typeof a)return{value:{allOf:t.slice()}};n.required=!!a||!!l}break;case"$schema":case"$id":case"id":break;case"title":case"description":n[e]=l;break;case"type":if(!rt(l)&&!X(l)||!rt(a)&&!X(a))return{value:{allOf:t.slice()}};var j=Ft(a,l);if(!j.length)return{value:{allOf:t.slice()}};n.type=j.length>1?j:j[0];break;case"uniqueItems":n.uniqueItems=!!a||!!l;break;default:return{value:{allOf:t.slice()}}}},l=0,u=Object.keys(s);l<u.length;l++){var p=a(u[l]);if("object"==typeof p)return p.value}return n}var oe=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function ne(t){}function re(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=!0);var n={},r=function(t){var e=lt(t,"strict");return{integer:"number",null:"string"}[e]||e},i=function(t){return re(t,e,!1)};if(o&&(n.$schema="http://json-schema.org/draft-06/schema#"),n.type=r(t),"object"===n.type){n.properties={},e&&(n.required=[]);for(var s=0,a=Object.keys(t);s<a.length;s++){var l=a[s];n.properties[l]=i(t[l]),e&&n.required.push(l)}}else"array"===n.type&&(n.items=t.map(i),1===new Set(t.map(r)).size&&(n.items=n.items.reduce(function(t,e){return oe({},t,e)},{})),e&&(n.minItems=1));return n}function ie(t,e,o){void 0===o&&(o="schema");var n=_t.parse(e);if(null===n)return console.error("getFromSchema error: Invalid JSON Pointer: "+e),null;var r=t,i=[],s=n.length;"parent"===o.slice(0,6)&&n.length--;for(var a=0;a<s;++a){var l=n[a],u=!1;if("object"!=typeof r)return console.error('getFromSchema error: Unable to find "'+l+'" key in schema.'),console.error(t),console.error(e),null;if("array"!==r.type||isNaN(l)&&"-"!==l?"object"===r.type&&(nt(r.properties)&&Ot(r.properties,l)?(u=!0,r=r.properties[l],i.push("properties",l)):nt(r.additionalProperties)?(u=!0,r=r.additionalProperties,i.push("additionalProperties")):!1!==r.additionalProperties&&(u=!0,r={},i.push("additionalProperties"))):(Ot(r,"items")&&(nt(r.items)?(u=!0,r=r.items,i.push("items")):rt(r.items)&&!isNaN(l)&&r.items.length>=+l&&(u=!0,r=r.items[+l],i.push("items",l))),!u&&nt(r.additionalItems)?(u=!0,r=r.additionalItems,i.push("additionalItems")):!1!==r.additionalItems&&(u=!0,r={},i.push("additionalItems"))),!u)return console.error('getFromSchema error: Unable to find "'+l+'" item in schema.'),console.error(t),void console.error(e)}return"Pointer"===o.slice(-7)?i:r}function se(t,e,o){if(void 0===o&&(o=new Map),!t)return"";var n=_t.toGenericPointer(_t.compile(t),o);if(-1===n.indexOf("/"))return n;for(var r=!0;r;)r=!1,e.forEach(function(t,e){if(_t.isSubPointer(t,e))for(;_t.isSubPointer(e,n,!0);)n=_t.toGenericPointer(t+n.slice(e.length),o),r=!0});return n}function ae(t,e){void 0===e&&(e=null);var o=_t.getFirst([[t,"/x-schema-form/type"],[t,"/x-schema-form/widget/component"],[t,"/x-schema-form/widget"],[t,"/widget/component"],[t,"/widget"]]);if(X(o))return le(o,t,e);var n=t.type;if(n){if(rt(n)&&(n=yt("object",n)&&Ot(t,"properties")?"object":yt("array",n)&&Ot(t,"items")?"array":yt("array",n)&&Ot(t,"additionalItems")?"array":yt("string",n)?"string":yt("number",n)?"number":yt("integer",n)?"integer":yt("boolean",n)?"boolean":"unknown"),"boolean"===n)return"checkbox";if("object"===n){if(Ot(t,"properties")||Ot(t,"additionalProperties"))return"section";if(Ot(t,"$ref"))return"$ref"}if("array"===n)return Ot(_t.getFirst([[t,"/items"],[t,"/additionalItems"]])||{},"enum")&&1!==t.maxItems?le("checkboxes",t,e):"array";if("null"===n)return"none";if(_t.has(e,"/options/titleMap")||Ot(t,"enum")||ce(t,null,!0))return"select";if("number"===n||"integer"===n)return("integer"===n||Ot(t,"multipleOf"))&&Ot(t,"maximum")&&Ot(t,"minimum")?"range":n;if("string"===n)return{color:"color",date:"date","date-time":"datetime-local",email:"email",uri:"url"}[t.format]||"text"}return Ot(t,"$ref")?"$ref":rt(t.oneOf)||rt(t.anyOf)?"one-of":(console.error("getInputType error: Unable to determine input type for "+n),console.error("schema",t),e&&console.error("layoutNode",e),"none")}function le(t,e,o){return void 0===o&&(o=null),!X(t)||"checkbox"!==t.slice(0,8)&&"radio"!==t.slice(0,5)?t:!0===_t.getFirst([[o,"/inline"],[o,"/options/inline"],[e,"/inline"],[e,"/x-schema-form/inline"],[e,"/x-schema-form/options/inline"],[e,"/x-schema-form/widget/inline"],[e,"/x-schema-form/widget/component/inline"],[e,"/x-schema-form/widget/component/options/inline"],[e,"/widget/inline"],[e,"/widget/component/inline"],[e,"/widget/component/options/inline"]])?"radio"===t.slice(0,5)?"radios-inline":"checkboxes-inline":t}function ue(t,e){if(!nt(t))return console.error("isInputRequired error: Input schema must be an object."),!1;var o=_t.parse(e);if(rt(o)){if(!o.length)return!0===t.required;var n=o.pop(),r=o[o.length-1];["properties","additionalProperties","patternProperties","items","additionalItems"].includes(r)&&o.pop();var i=_t.get(t,o)||{};if(rt(i.required))return i.required.includes(n);if("array"===i.type)return Ot(i,"minItems")&&tt(n)&&+i.minItems>+n}return!1}function pe(t,e,o){if(nt(t)&&nt(t.options)){var n={},r=function(t){return"ui:"===t.slice(0,3).toLowerCase()?t.slice(3):t};if(Ct(n,o.formOptions.defaultWidgetOptions,[],r),[[_t.get(e,"/ui:widget/options"),[]],[_t.get(e,"/ui:widget"),[]],[e,["additionalProperties","additionalItems","properties","items","required","type","x-schema-form","$ref"]],[_t.get(e,"/x-schema-form/options"),[]],[_t.get(e,"/x-schema-form"),["items","options"]],[t,["_id","$ref","arrayItem","arrayItemType","dataPointer","dataType","items","key","name","options","recursiveReference","type","widget"]],[t.options,[]]].forEach(function(t){var e=t[0],o=t[1];return Ct(n,e,o,r)}),!Ot(n,"titleMap")){var i=null;(i=ce(e,n.flatList))&&(n.titleMap=i),Ot(n,"titleMap")||Ot(n,"enum")||!Ot(e,"items")||(_t.has(e,"/items/titleMap")?n.titleMap=e.items.titleMap:_t.has(e,"/items/enum")?(n.enum=e.items.enum,!Ot(n,"enumNames")&&_t.has(e,"/items/enumNames")&&(n.enumNames=e.items.enumNames)):_t.has(e,"/items/oneOf")&&(i=ce(e.items,n.flatList))&&(n.titleMap=i))}Ot(n,"readOnly")&&(n.readonly=n.readOnly,delete n.readOnly),"integer"!==e.type||K(n.multipleOf)||(n.multipleOf=1),_t.has(n,"/autocomplete/source")?n.typeahead=n.autocomplete:_t.has(n,"/tagsinput/source")?n.typeahead=n.tagsinput:_t.has(n,"/tagsinput/typeahead/source")&&(n.typeahead=n.tagsinput.typeahead),t.options=n}}function ce(t,e,o){void 0===t&&(t={}),void 0===e&&(e=null),void 0===o&&(o=!1);var n=null,r=t.oneOf||t.anyOf||null;if(rt(r)&&r.every(function(t){return t.title})){if(r.every(function(t){return rt(t.enum)&&1===t.enum.length})){if(o)return!0;n=r.map(function(t){return{name:t.title,value:t.enum[0]}})}else if(r.every(function(t){return t.const})){if(o)return!0;n=r.map(function(t){return{name:t.title,value:t.const}})}if(!1!==e&&(n||[]).filter(function(t){return((t||{}).name||"").indexOf(": ")}).length>1){var i=n.map(function(t){var e=t.name.split(/: (.+)/),o=e[0],n=e[1];return o&&n?oe({},t,{group:o,name:n}):t});(!0===e||i.some(function(t,e){return e&&Ot(t,"group")&&t.group===i[e-1].group}))&&(n=i)}}return!o&&n}function de(t){if(!nt(t))return null;var e={};if(Ot(t,"type"))switch(t.type){case"string":It(["pattern","format","minLength","maxLength"],function(o){Ot(t,o)&&(e[o]=[t[o]])});break;case"number":case"integer":It(["Minimum","Maximum"],function(o){var n="exclusive"+o,r=o.toLowerCase();if(Ot(t,r)){var i=Ot(t,n)&&!0===t[n];e[r]=[t[r],i]}}),It(["multipleOf","type"],function(o){Ot(t,o)&&(e[o]=[t[o]])});break;case"object":It(["minProperties","maxProperties","dependencies"],function(o){Ot(t,o)&&(e[o]=[t[o]])});break;case"array":It(["minItems","maxItems","uniqueItems"],function(o){Ot(t,o)&&(e[o]=[t[o]])})}return Ot(t,"enum")&&(e.enum=[t.enum]),e}function fe(t,e,o,n,r){if(nt(t)){var i=new Set,s=new Set,a=new Map,l=new Map,u={};_t.forEachDeep(t,function(t,e){if(Ot(t,"$ref")&&X(t.$ref)){var o=_t.compile(t.$ref);i.add(o),s.add(e+"~~"+o),a.set(e,o)}}),i.forEach(function(e){return u[e]=me(t,e)});for(var p=!0;p;)p=!1,Array.from(a).forEach(function(t){var e=t[0],o=t[1];return Array.from(a).filter(function(t){var n=t[0],r=t[1];return _t.isSubPointer(o,n,!0)&&!_t.isSubPointer(r,o,!0)&&!s.has(e+n.slice(o.length)+"~~"+r)}).forEach(function(t){var n=t[0],r=t[1];s.add(e+n.slice(o.length)+"~~"+r),p=!0})});Array.from(s).map(function(t){return t.split("~~")}).filter(function(t){var e=t[0],o=t[1];return _t.isSubPointer(o,e)}).forEach(function(t){var e=t[0],o=t[1];return l.set(e,o)}),Array.from(a).filter(function(t){var e=t[0];t[1];return Array.from(l.keys()).every(function(t){return!_t.isSubPointer(e,t,!0)})}).forEach(function(t){var e=t[0],o=t[1];return Array.from(l).filter(function(t){var n=t[0];t[1];return!l.has(e+n.slice(o.length))&&_t.isSubPointer(o,n,!0)&&!_t.isSubPointer(o,e,!0)}).forEach(function(t){var n=t[0],r=t[1];return l.set(e+n.slice(o.length),e+r.slice(o.length))})});var c=oe({},t);return delete c.definitions,c=me(c,"",u,l),_t.forEachDeep(c,function(t,i){if(X(t.$ref)){var s=_t.compile(t.$ref);_t.isSubPointer(s,i,!0)||(s=se(i,l),_t.set(c,i,{$ref:"#"+s})),Ot(e,"refPointer")||(e[s]=s.length?me(c,s,e,l):c),o.has(i)||o.set(i,s);var a=_t.toDataPointer(i,c);if(!n.has(a)){var u=_t.toDataPointer(s,c);n.set(a,u)}}if("array"===t.type&&(Ot(t,"items")||Ot(t,"additionalItems"))){var p=_t.toDataPointer(i,c);if(!r.has(p)){var d=rt(t.items)?t.items.length:0;r.set(p,d)}}},!0),c}console.error("resolveSchemaReferences error: schema must be an object.")}function me(t,e,n,r,i){if(void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=[]),!n||!r)return _t.getCopy(t,e);"string"!=typeof e&&(e=_t.compile(e)),i=i.concat([e]);var s=null;if(""===e)s=o.cloneDeep(t);else{var a=se(e,r);a!==e&&(i=i.concat([a])),s=_t.getFirstCopy([[n,[a]],[t,e],[t,a]])}return _t.forEachDeepCopy(s,function(e,o){if(nt(e)){if(X(e.$ref)){var s=_t.compile(e.$ref);if(s.length&&i.every(function(t){return!_t.isSubPointer(s,t,!0)})){var a=me(t,s,n,r,i);if(1===Object.keys(e).length)return a;var l=oe({},e);return delete l.$ref,ee(a,l)}}if(rt(e.allOf))return he(e);if("array"===e.type&&rt(e.required))return ye(e)}return e},!0,e)}function he(t){if(!nt(t)||!rt(t.allOf))return t;var e=ee.apply(void 0,t.allOf);if(Object.keys(t).length>1){var o=oe({},t);delete o.allOf,e=ee(e,o)}return e}function ye(t){if("array"===t.type&&rt(t.required)){var e=Ot(t.items,"properties")?"items":Ot(t.additionalItems,"properties")?"additionalItems":null;e&&!Ot(t[e],"required")&&(Ot(t[e],"additionalProperties")||t.required.every(function(o){return Ot(t[e].properties,o)}))&&((t=o.cloneDeep(t))[e].required=t.required,delete t.required)}return t}var ge=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function be(t,e){void 0===e&&(e={});var n=e.draft||null,r=e.changed||!1;if("object"!=typeof t)return t;if("function"==typeof t.map)return t.map(function(t){return be(t,{changed:r,draft:n})}).slice();var i=ge({},t),s=["array","boolean","integer","null","number","object","string"];if("string"==typeof i.$schema&&/http\:\/\/json\-schema\.org\/draft\-0\d\/schema\#/.test(i.$schema)&&(n=i.$schema[30]),i.contentEncoding&&(i.media={binaryEncoding:i.contentEncoding},delete i.contentEncoding,r=!0),"object"==typeof i.extends&&(i.allOf="function"==typeof i.extends.map?i.extends.map(function(t){return be(t,{changed:r,draft:n})}):[be(i.extends,{changed:r,draft:n})],delete i.extends,r=!0),i.disallow&&("string"==typeof i.disallow?i.not={type:i.disallow}:"function"==typeof i.disallow.map&&(i.not={anyOf:i.disallow.map(function(t){return"object"==typeof t?t:{type:t}})}),delete i.disallow,r=!0),"object"==typeof i.dependencies&&Object.keys(i.dependencies).some(function(t){return"string"==typeof i.dependencies[t]})&&(i.dependencies=ge({},i.dependencies),Object.keys(i.dependencies).filter(function(t){return"string"==typeof i.dependencies[t]}).forEach(function(t){return i.dependencies[t]=[i.dependencies[t]]}),r=!0),"number"==typeof i.maxDecimal&&(i.multipleOf=1/Math.pow(10,i.maxDecimal),delete i.divisibleBy,r=!0,n&&2!==n||(n=1)),"number"==typeof i.divisibleBy&&(i.multipleOf=i.divisibleBy,delete i.divisibleBy,r=!0),"number"==typeof i.minimum&&!1===i.minimumCanEqual?(i.exclusiveMinimum=i.minimum,delete i.minimum,r=!0,n||(n=2)):"boolean"==typeof i.minimumCanEqual&&(delete i.minimumCanEqual,r=!0,n||(n=2)),"number"==typeof i.minimum&&!0===i.exclusiveMinimum?(i.exclusiveMinimum=i.minimum,delete i.minimum,r=!0):"boolean"==typeof i.exclusiveMinimum&&(delete i.exclusiveMinimum,r=!0),"number"==typeof i.maximum&&!1===i.maximumCanEqual?(i.exclusiveMaximum=i.maximum,delete i.maximum,r=!0,n||(n=2)):"boolean"==typeof i.maximumCanEqual&&(delete i.maximumCanEqual,r=!0,n||(n=2)),"number"==typeof i.maximum&&!0===i.exclusiveMaximum?(i.exclusiveMaximum=i.maximum,delete i.maximum,r=!0):"boolean"==typeof i.exclusiveMaximum&&(delete i.exclusiveMaximum,r=!0),"object"==typeof i.properties){var a=ge({},i.properties),l=Array.isArray(i.required)?new Set(i.required):new Set;if((1===n||2===n||Object.keys(a).some(function(t){return!0===a[t].optional}))&&(Object.keys(a).filter(function(t){return!0!==a[t].optional}).forEach(function(t){return l.add(t)}),r=!0,n||(n=2)),Object.keys(a).some(function(t){return!0===a[t].required})&&(Object.keys(a).filter(function(t){return!0===a[t].required}).forEach(function(t){return l.add(t)}),r=!0),l.size&&(i.required=Array.from(l)),Object.keys(a).some(function(t){return a[t].requires})){var u="object"==typeof i.dependencies?ge({},i.dependencies):{};Object.keys(a).filter(function(t){return a[t].requires}).forEach(function(t){return u[t]="string"==typeof a[t].requires?[a[t].requires]:a[t].requires}),i.dependencies=u,r=!0,n||(n=2)}i.properties=a}if("boolean"==typeof i.optional&&(delete i.optional,r=!0,n||(n=2)),i.requires&&delete i.requires,"boolean"==typeof i.required&&delete i.required,"string"!=typeof i.id||i.$id||("#"===i.id.slice(-1)&&(i.id=i.id.slice(0,-1)),i.$id=i.id+"-CONVERTED-TO-DRAFT-06#",delete i.id,r=!0),!i.type||("function"==typeof i.type.every?i.type.every(function(t){return s.includes(t)}):s.includes(i.type))||(r=!0),"string"==typeof i.$schema&&/http\:\/\/json\-schema\.org\/draft\-0[1-4]\/schema\#/.test(i.$schema))i.$schema="http://json-schema.org/draft-06/schema#",r=!0;else if(r&&"string"==typeof i.$schema){var p="Converted to draft 6 from "+i.$schema;"string"==typeof i.description&&i.description.length?i.description+="\n"+p:i.description=p,delete i.$schema}if(i.type&&("function"==typeof i.type.every?!i.type.every(function(t){return s.includes(t)}):!s.includes(i.type)))if(1===i.type.length&&(i.type=i.type[0]),"string"==typeof i.type)"any"===i.type?i.type=s:delete i.type;else if("object"==typeof i.type){if("function"==typeof i.type.every)if(i.type.every(function(t){return"string"==typeof t}))i.type=i.type.some(function(t){return"any"===t})?i.type=s:i.type.filter(function(t){return s.includes(t)});else if(i.type.length>1){for(var c=["additionalItems","items","maxItems","minItems","uniqueItems","contains"],d=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"],f=["maxProperties","minProperties","required","additionalProperties","properties","patternProperties","dependencies","propertyNames"],m=["maxLength","minLength","pattern","format"],h={array:d.concat(f,m),integer:c.concat(f,m),number:c.concat(f,m),object:c.concat(d,m),string:c.concat(d,f),all:c.concat(d,f,m)},y=[],g=function(t){var e="string"==typeof t?{type:t}:ge({},t);Object.keys(i).filter(function(t){return!e.hasOwnProperty(t)&&!(h[e.type]||h.all).concat(["type","default"]).includes(t)}).forEach(function(t){return e[t]=i[t]}),y.push(e)},b=0,v=i.type;b<v.length;b++){g(v[b])}i=i.hasOwnProperty("default")?{anyOf:y,default:i.default}:{anyOf:y}}else{var x=i.type;delete i.type,Object.assign(i,x)}}else delete i.type;return Object.keys(i).filter(function(t){return"object"==typeof i[t]}).forEach(function(t){if(["definitions","dependencies","properties","patternProperties"].includes(t)&&"function"!=typeof i[t].map){var e={};Object.keys(i[t]).forEach(function(o){return e[o]=be(i[t][o],{changed:r,draft:n})}),i[t]=e}else["items","additionalItems","additionalProperties","allOf","anyOf","oneOf","not"].includes(t)?i[t]=be(i[t],{changed:r,draft:n}):i[t]=o.cloneDeep(i[t])}),i}Object.assign;function ve(t,e,n,r,i,s){void 0===e&&(e=null),void 0===n&&(n=!0),void 0===r&&(r=""),void 0===i&&(i=""),void 0===s&&(s="");var a=_t.get(t.schema,r);n?!Z(e)&&(!0===t.formOptions.setSchemaDefaults||"auto"===t.formOptions.setSchemaDefaults&&Q(t.formValues))&&(e=_t.get(t.schema,r+"/default")):e=null;var l=_t.get(a,"/type"),u=(Ot(a,"properties")||Ot(a,"additionalProperties"))&&"object"===l?"FormGroup":(Ot(a,"items")||Ot(a,"additionalItems"))&&"array"===l?"FormArray":!l&&Ot(a,"$ref")?"$ref":"FormControl",p=se(i,t.dataRecursiveRefMap,t.arrayMap);t.dataMap.has(p)||t.dataMap.set(p,new Map);var c,d=t.dataMap.get(p);d.has("schemaType")||(d.set("schemaPointer",r),d.set("schemaType",a.type),a.format&&(d.set("schemaFormat",a.format),a.type||d.set("schemaType","string")),u&&(d.set("templatePointer",s),d.set("templateType",u)));var f=de(a);switch(u){case"FormGroup":if(c={},Ot(a,"ui:order")||Ot(a,"properties")){var m=a["ui:order"]||Object.keys(a.properties);if(m.includes("*")&&!Ot(a.properties,"*"))for(var h=Object.keys(a.properties).filter(function(t){return!m.includes(t)}),y=m.length-1;y>=0;y--)"*"===m[y]&&m.splice.apply(m,[y,1].concat(h));m.filter(function(t){return Ot(a.properties,t)||Ot(a,"additionalProperties")}).forEach(function(o){return c[o]=ve(t,_t.get(e,[o]),n,r+(Ot(a.properties,o)?"/properties/"+o:"/additionalProperties"),i+"/"+o,s+"/controls/"+o)}),t.formOptions.fieldsRequired=Ie(a,c)}return{controlType:u,controls:c,validators:f};case"FormArray":c=[];var g=Math.max(a.minItems||0,d.get("minItems")||0),b=Math.min(a.maxItems||1e3,d.get("maxItems")||1e3),v=null;if(rt(a.items)){var x=d.get("tupleItems")||(rt(a.items)?Math.min(a.items.length,b):0);for(y=0;y<x;y++)if(y<g)c.push(ve(t,rt(e)?e[y]:e,n,r+"/items/"+y,i+"/"+y,s+"/controls/"+y));else{var I=se(r+"/items/"+y,t.schemaRecursiveRefMap),w=(O=se(p+"/"+y,t.dataRecursiveRefMap,t.arrayMap))!==p+"/"+y;Ot(t.templateRefLibrary,O)||(t.templateRefLibrary[O]=null,t.templateRefLibrary[O]=ve(t,null,n,I,O,s+"/controls/"+y)),c.push(rt(e)?ve(t,e[y],n,r+"/items/"+y,i+"/"+y,s+"/controls/"+y):w?null:o.cloneDeep(t.templateRefLibrary[O]))}a.items.length<b&&nt(a.additionalItems)&&(v=r+"/additionalItems")}else v=r+"/items";if(v){var O;I=se(v,t.schemaRecursiveRefMap),w=(O=se(p+"/-",t.dataRecursiveRefMap,t.arrayMap))!==p+"/-";Ot(t.templateRefLibrary,O)||(t.templateRefLibrary[O]=null,t.templateRefLibrary[O]=ve(t,null,n,I,O,s+"/controls/-"));var C=d;if(!w||Ot(f,"required")){var j=Math.min(Math.max(w?0:C.get("tupleItems")+C.get("listItems")||0,rt(e)?e.length:0),b);for(y=c.length;y<j;y++)c.push(rt(e)?ve(t,e[y],n,I,i+"/-",s+"/controls/-"):w?null:o.cloneDeep(t.templateRefLibrary[O]))}}return{controlType:u,controls:c,validators:f};case"$ref":var F=_t.compile(a.$ref),k=se(_t.toDataPointer(F,a),t.dataRecursiveRefMap,t.arrayMap);if(k&&!Ot(t.templateRefLibrary,k)){t.templateRefLibrary[k]=null;var N=ve(t,n,n,F);N?t.templateRefLibrary[k]=N:delete t.templateRefLibrary[k]}return null;case"FormControl":return{controlType:u,value:{value:n&&pt(e)?e:null,disabled:d.get("disabled")||!1},validators:f};default:return null}}function xe(t){var e=[],r=null;if(Ot(t,"validators")&&(It(t.validators,function(t,o){"function"==typeof Xt[o]&&e.push(Xt[o].apply(null,t))}),e.length&&yt(t.controlType,["FormGroup","FormArray"])&&(r=e.length>1?Xt.compose(e):e[0])),Ot(t,"controlType"))switch(t.controlType){case"FormGroup":var i={};return It(t.controls,function(t,e){var o=xe(t);o&&(i[e]=o)}),new n.FormGroup(i,r);case"FormArray":return new n.FormArray(o.filter(o.map(t.controls,function(t){return xe(t)})),r);case"FormControl":return new n.FormControl(t.value,e)}return null}function Ie(t,e){var o=!1;if(Ot(t,"required")&&!Q(t.required)){o=!0;var n=rt(t.required)?t.required:[t.required];n=It(n,function(t){return _t.set(e,"/"+t+"/validators/required",[])})}return o}function we(t,e,o,n,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),null===t||"object"!=typeof t)return t;var s=rt(t)?[]:{};return _t.forEachDeep(t,function(t,a){if(r&&rt(t))_t.set(s,a,[]);else if(r&&nt(t)&&!it(t))_t.set(s,a,{});else{var l=_t.has(e,[a,"schemaType"])?a:se(a,o,n);if(_t.has(e,[l,"schemaType"])){var u=e.get(l).get("schemaType");if("null"===u)_t.set(s,a,null);else if((K(t)||r)&&yt(u,["string","integer","number","boolean"])){var p=i||null===t&&r?dt(t,u):ct(t,u);(Z(p)||r)&&_t.set(s,a,p)}else"object"!==u||r||(e.get(l).get("required")||[]).forEach(function(t){var o=e.get(l+"/"+t).get("schemaType");"array"===o?_t.set(s,a+"/"+t,[]):"object"===o&&_t.set(s,a+"/"+t,{})});"date-time"===e.get(l).get("schemaFormat")&&(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?$/i.test(t)?_t.set(s,a,t+"Z"):/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d$/i.test(t)?_t.set(s,a,t+":00Z"):i&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(t)&&_t.set(s,a,t+":00:00:00Z"))}else("object"!=typeof t||it(t)||null===t&&r)&&(console.error("formatFormData error: Schema type not found for form value at "+l),console.error("dataMap",e),console.error("recursiveRefMap",o),console.error("genericPointer",l))}}),s}function Oe(t,e,o){if(void 0===o&&(o=!1),!nt(t)||!_t.isJsonPointer(e)){if(!_t.isJsonPointer(e)){if("string"==typeof e)if(n=t.get(e))return n;console.error("getControl error: Invalid JSON Pointer: "+e)}return nt(t)||console.error("getControl error: Invalid formGroup: "+t),null}var n,r=_t.parse(e);if((o&&(r=r.slice(0,-1)),"function"==typeof t.get&&r.every(function(t){return-1===t.indexOf(".")}))&&(n=t.get(r.join("."))))return n;for(var i=t,s=0,a=r;s<a.length;s++){var l=a[s];if(Ot(i,"controls")&&(i=i.controls),rt(i)&&"-"===l)i=i[i.length-1];else{if(!Ot(i,l))return console.error('getControl error: Unable to find "'+l+'" item in FormGroup.'),console.error(e),void console.error(t);i=i[l]}}return i}var Ce=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function je(t,e){var n=!_t.get(t,"/formOptions/addSubmit"),r=ke(t.layout,function(r,i,s){var a={_id:o.uniqueId(),options:{}};if(nt(r))Object.assign(a,r),Object.keys(a).filter(function(t){return!yt(t,["_id","$ref","arrayItem","arrayItemType","dataPointer","dataType","items","key","name","options","recursiveReference","type","widget"])}).forEach(function(t){a.options[t]=a[t],delete a[t]}),!Ot(a,"type")&&X(a.widget)&&(a.type=a.widget,delete a.widget),Ot(a.options,"title")||Ot(a.options,"legend")&&(a.options.title=a.options.legend,delete a.options.legend),Ot(a.options,"validationMessages")||(Ot(a.options,"errorMessages")?(a.options.validationMessages=a.options.errorMessages,delete a.options.errorMessages):Ot(a.options,"validationMessage")&&("string"==typeof a.options.validationMessage?a.options.validationMessages=a.options.validationMessage:(a.options.validationMessages={},Object.keys(a.options.validationMessage).forEach(function(t){var e=t+"",o="0"===e?"type":"1"===e?"enum":"100"===e?"multipleOf":"101"===e?"minimum":"102"===e?"exclusiveMinimum":"103"===e?"maximum":"104"===e?"exclusiveMaximum":"200"===e?"minLength":"201"===e?"maxLength":"202"===e?"pattern":"300"===e?"minProperties":"301"===e?"maxProperties":"302"===e?"required":"304"===e?"dependencies":"400"===e?"minItems":"401"===e?"maxItems":"402"===e?"uniqueItems":"500"===e?"format":e+"";a.options.validationMessages[o]=a.options.validationMessage[t]})),delete a.options.validationMessage));else if(_t.isJsonPointer(r))a.dataPointer=r;else{if(!X(r))return console.error("buildLayout error: Form layout element not recognized:"),console.error(r),null;a.key=r}var l=null;if(!Ot(a,"dataPointer"))if(Ot(a,"key"))a.dataPointer="*"===a.key?a.key:_t.compile(_t.parseObjectPath(a.key),"-"),delete a.key;else if(Ot(a,"type")&&"array"===a.type.slice(-5)){var u=function(t){if(null!==t&&"object"==typeof t){if(Ot(t,"dataPointer"))return t.dataPointer;if(rt(t.items))for(var e=0,o=t.items;e<o.length;e++){var n=o[e];if(Ot(n,"dataPointer")&&-1!==n.dataPointer.indexOf("/-"))return n.dataPointer;if(Ot(n,"items")){var r=u(n);if(r)return r}}}},p=u(a);p&&(a.dataPointer=p.slice(0,p.lastIndexOf("/-")))}if(Ot(a,"dataPointer")){if("*"===a.dataPointer)return Fe(t,e,t.formValues);var c=_t.get(t.formValues,a.dataPointer.replace(/\/-/g,"/1"));a.dataPointer=_t.toGenericPointer(a.dataPointer,t.arrayMap);var d=_t.toKey(a.dataPointer);!a.name&&X(d)&&"-"!==d&&(a.name=d);var f=se(a.dataPointer,t.dataRecursiveRefMap,t.arrayMap),m=!f.length||f!==a.dataPointer,h=void 0;t.dataMap.has(f)||t.dataMap.set(f,new Map);var y=t.dataMap.get(f);if(y.has("schemaPointer")?h=y.get("schemaPointer"):(h=_t.toSchemaPointer(f,t.schema),y.set("schemaPointer",h)),y.set("disabled",!!a.options.disabled),l=_t.get(t.schema,h)){if(Ot(a,"type"))if(e.hasWidget(a.type))a.type=le(a.type,l,a);else{var g=a.type;a.type=ae(l,a),console.error('error: widget type "'+g+'" not found in library. Replacing with "'+a.type+'".')}else a.type=ae(l,a);"object"===l.type&&rt(l.required)&&y.set("required",l.required),a.dataType=l.type||(Ot(l,"$ref")?"$ref":null),pe(a,l,t),"checkboxes"===a.type&&Ot(l,"items")?pe(a,l.items,t):"array"===a.dataType&&(a.options.maxItems=Math.min(l.maxItems||1e3,a.options.maxItems||1e3),a.options.minItems=Math.max(l.minItems||0,a.options.minItems||0),a.options.listItems=Math.max(a.options.listItems||0,rt(c)?c.length:0),a.options.tupleItems=rt(l.items)?l.items.length:0,a.options.maxItems<a.options.tupleItems?(a.options.tupleItems=a.options.maxItems,a.options.listItems=0):a.options.maxItems<a.options.tupleItems+a.options.listItems&&(a.options.listItems=a.options.maxItems-a.options.tupleItems),y.has("maxItems")||(y.set("maxItems",a.options.maxItems),y.set("minItems",a.options.minItems),y.set("tupleItems",a.options.tupleItems),y.set("listItems",a.options.listItems)),t.arrayMap.has(f)||t.arrayMap.set(f,a.options.tupleItems)),ue(t.schema,h)&&(a.options.required=!0,t.fieldsRequired=!0)}else pe(a,{},t);if(a.options.title||/^\d+$/.test(a.name)||(a.options.title=kt(a.name)),Ot(a.options,"copyValueTo")&&("string"==typeof a.options.copyValueTo&&(a.options.copyValueTo=[a.options.copyValueTo]),rt(a.options.copyValueTo)&&(a.options.copyValueTo=a.options.copyValueTo.map(function(t){return _t.compile(_t.parseObjectPath(t),"-")}))),a.widget=e.getWidget(a.type),y.set("inputType",a.type),y.set("widget",a.widget),"array"===a.dataType&&(Ot(a,"items")||Ot(a,"additionalItems"))){var b=se(a.dataPointer+"/-",t.dataRecursiveRefMap,t.arrayMap);if(t.dataMap.has(b)||t.dataMap.set(b,new Map),t.dataMap.get(b).set("inputType","section"),a.items.length>1){for(var v=[],x=a.items.length-1;x>=0;x--){var I=a.items[x];if(Ot(I,"dataPointer")&&I.dataPointer.slice(0,b.length)===b){var w=a.items.splice(x,1)[0];w.dataPointer=a.dataPointer+"/-"+w.dataPointer.slice(b.length),v.unshift(w)}else I.arrayItem=!0,I.arrayItemType="list",I.removable=!1!==a.options.removable}v.length&&a.items.push({_id:o.uniqueId(),arrayItem:!0,arrayItemType:a.options.tupleItems>a.items.length?"tuple":"list",items:v,options:{removable:!1!==a.options.removable},dataPointer:a.dataPointer+"/-",type:"section",widget:e.getWidget("section")})}else a.items[0].arrayItem=!0,a.items[0].dataPointer||(a.items[0].dataPointer=_t.toGenericPointer(b,t.arrayMap)),_t.has(a,"/items/0/options/removable")||(a.items[0].options.removable=!0),!1===a.options.orderable&&(a.items[0].options.orderable=!1),a.items[0].arrayItemType=a.options.tupleItems?"tuple":"list";if(rt(a.items)){var O=a.items.filter(function(t){return"$ref"!==t.type}).length-a.options.tupleItems;O>a.options.listItems&&(a.options.listItems=O,y.set("listItems",O))}if(Ot(t.layoutRefLibrary,b)||(t.layoutRefLibrary[b]=o.cloneDeep(a.items[a.items.length-1]),m&&(t.layoutRefLibrary[b].recursiveReference=!0),It(t.layoutRefLibrary[b],function(t,e){Ot(t,"_id")&&(t._id=null),m&&Ot(t,"dataPointer")&&(t.dataPointer=t.dataPointer.slice(b.length))},"top-down")),!a.recursiveReference||a.options.required){var C=Math.min(Math.max(a.options.tupleItems+a.options.listItems,rt(c)?c.length:0),a.options.maxItems);for(x=a.items.length;x<C;x++)a.items.push(Ne({$ref:b,dataPointer:a.dataPointer,recursiveReference:a.recursiveReference},t,e))}if(!1!==a.options.addable&&a.options.minItems<a.options.maxItems&&"$ref"!==(a.items[a.items.length-1]||{}).type){var j="Add";if(a.options.title)/^add\b/i.test(a.options.title)?j=a.options.title:j+=" "+a.options.title;else if(a.name&&!/^\d+$/.test(a.name))/^add\b/i.test(a.name)?j+=" "+kt(a.name):j=kt(a.name);else{var F=ie(t.schema,a.dataPointer,"parentSchema");if(Ot(F,"title"))j+=" to "+F.title;else{var k=_t.parse(a.dataPointer);j+=" to "+kt(k[k.length-2])}}a.items.push({_id:o.uniqueId(),arrayItem:!0,arrayItemType:"list",dataPointer:a.dataPointer+"/-",options:{listItems:a.options.listItems,maxItems:a.options.maxItems,minItems:a.options.minItems,removable:!1,title:j,tupleItems:a.options.tupleItems},recursiveReference:m,type:"$ref",widget:e.getWidget("$ref"),$ref:b}),X(_t.get(a,"/style/add"))&&(a.items[a.items.length-1].options.fieldStyle=a.style.add,delete a.style.add,Q(a.style)&&delete a.style)}}else a.arrayItem=!1}else if(Ot(a,"type")||Ot(a,"items")){var N=_t.get(t.layout,s,0,-2).type;Ot(a,"type")||(a.type=yt(N,["tabs","tabarray"])?"tab":"array"),a.arrayItem="array"===N,a.widget=e.getWidget(a.type),pe(a,{},t)}return"submit"===a.type&&(n=!0),a});if(t.hasRootReference){var i=o.cloneDeep(r);"submit"===i[i.length-1].type&&i.pop(),t.layoutRefLibrary[""]={_id:null,dataPointer:"",dataType:"object",items:i,name:"",options:o.cloneDeep(t.formOptions.defaultWidgetOptions),recursiveReference:!0,required:!1,type:"section",widget:e.getWidget("section")}}return n||r.push({_id:o.uniqueId(),options:{title:"Submit"},type:"submit",widget:e.getWidget("submit")}),r}function Fe(t,e,n,r,i,s,a,l,u,p){void 0===n&&(n=null),void 0===r&&(r=""),void 0===i&&(i=""),void 0===s&&(s=!1),void 0===a&&(a=null),void 0===l&&(l=null),void 0===u&&(u=!1),void 0===p&&(p="");var c=_t.get(t.schema,r);if(!Ot(c,"type")&&!Ot(c,"$ref")&&!Ot(c,"x-schema-form"))return null;var d=ae(c);!Z(n)&&(!0===t.formOptions.setSchemaDefaults||"auto"===t.formOptions.setSchemaDefaults&&Q(t.formValues))&&(n=_t.get(t.schema,r+"/default"));var f={_id:u?null:o.uniqueId(),arrayItem:s,dataPointer:_t.toGenericPointer(i,t.arrayMap),dataType:c.type||(Ot(c,"$ref")?"$ref":null),options:{},required:ue(t.schema,r),type:d,widget:e.getWidget(d)},m=_t.toKey(f.dataPointer);"-"!==m&&(f.name=m),f.arrayItem&&(f.arrayItemType=a,f.options.removable=!1!==l);var h=se(p+i,t.dataRecursiveRefMap,t.arrayMap);h.length;t.dataMap.has(h)||t.dataMap.set(h,new Map);var y=t.dataMap.get(h);if(y.has("inputType")||(y.set("schemaPointer",r),y.set("inputType",f.type),y.set("widget",f.widget),y.set("disabled",!!f.options.disabled)),pe(f,c,t),f.options.title||!f.name||/^\d+$/.test(f.name)||(f.options.title=kt(f.name)),"object"===f.dataType){if(rt(c.required)&&!y.has("required")&&y.set("required",c.required),nt(c.properties)){var g=[],b=c["ui:order"]||Object.keys(c.properties);if(b.includes("*")&&!Ot(c.properties,"*"))for(var v=Object.keys(c.properties).filter(function(t){return!b.includes(t)}),x=b.length-1;x>=0;x--)"*"===b[x]&&b.splice.apply(b,[x,1].concat(v));b.filter(function(t){return Ot(c.properties,t)||Ot(c,"additionalProperties")}).forEach(function(o){var s=Ot(c.properties,o)?"/properties/"+o:"/additionalProperties",a=Fe(t,e,nt(n)?n[o]:null,r+s,i+"/"+o,!1,null,null,u,p);a&&(ue(c,"/"+o)&&(a.options.required=!0,t.fieldsRequired=!0),g.push(a))}),""!==i||u?f.items=g:f=g}}else if("array"===f.dataType){f.items=[],f.options.maxItems=Math.min(c.maxItems||1e3,f.options.maxItems||1e3),f.options.minItems=Math.max(c.minItems||0,f.options.minItems||0),!f.options.minItems&&ue(t.schema,r)&&(f.options.minItems=1),Ot(f.options,"listItems")||(f.options.listItems=t.formOptions.defaultWidgetOptions.listItems),f.options.tupleItems=rt(c.items)?c.items.length:0,f.options.maxItems<=f.options.tupleItems?(f.options.tupleItems=f.options.maxItems,f.options.listItems=0):f.options.maxItems<f.options.tupleItems+f.options.listItems&&(f.options.listItems=f.options.maxItems-f.options.tupleItems),y.has("maxItems")||(y.set("maxItems",f.options.maxItems),y.set("minItems",f.options.minItems),y.set("tupleItems",f.options.tupleItems),y.set("listItems",f.options.listItems)),t.arrayMap.has(h)||t.arrayMap.set(h,f.options.tupleItems),l=!1!==f.options.removable;var I=null;if(rt(c.items)){f.items=[];for(x=0;x<f.options.tupleItems;x++){var w=void 0,O=!(C=se(h+"/"+x,t.dataRecursiveRefMap,t.arrayMap)).length||C!==h+"/"+x;l&&x>=f.options.minItems?(Ot(t.layoutRefLibrary,C)||(t.layoutRefLibrary[C]=null,t.layoutRefLibrary[C]=Fe(t,e,rt(n)?n[x]:null,r+"/items/"+x,O?"":i+"/"+x,!0,"tuple",!0,!0,O?i+"/"+x:""),O&&(t.layoutRefLibrary[C].recursiveReference=!0)),w=Ne({$ref:C,dataPointer:i+"/"+x,recursiveReference:O},t,e,rt(n)?n[x]:null)):w=Fe(t,e,rt(n)?n[x]:null,r+"/items/"+x,i+"/"+x,!0,"tuple",!1,u,p),w&&f.items.push(w)}nt(c.additionalItems)&&(I=r+"/additionalItems")}else nt(c.items)&&(I=r+"/items");if(I){O=!(C=se(h+"/-",t.dataRecursiveRefMap,t.arrayMap)).length||C!==h+"/-";var C,j=se(I,t.schemaRecursiveRefMap,t.arrayMap);if(C.length&&!Ot(t.layoutRefLibrary,C)&&(t.layoutRefLibrary[C]=null,t.layoutRefLibrary[C]=Fe(t,e,null,j,O?"":i+"/-",!0,"list",l,!0,O?i+"/-":""),O&&(t.layoutRefLibrary[C].recursiveReference=!0)),!O||f.options.required){var F=Math.min(Math.max(O?0:f.options.tupleItems+f.options.listItems,rt(n)?n.length:0),f.options.maxItems);if(f.items.length<F)for(x=f.items.length;x<F;x++)f.items.push(Ne({$ref:C,dataPointer:i+"/-",recursiveReference:O},t,e,rt(n)?n[x]:null))}if(!1!==f.options.addable&&f.options.minItems<f.options.maxItems&&"$ref"!==(f.items[f.items.length-1]||{}).type){var k=(_=((t.layoutRefLibrary[C]||{}).options||{}).title)?"Add ":"Add to ";_||(_=c.title||kt(_t.toKey(i))),/^add\b/i.test(_)||(_=k+_),f.items.push({_id:o.uniqueId(),arrayItem:!0,arrayItemType:"list",dataPointer:f.dataPointer+"/-",options:{listItems:f.options.listItems,maxItems:f.options.maxItems,minItems:f.options.minItems,removable:!1,title:_,tupleItems:f.options.tupleItems},recursiveReference:O,type:"$ref",widget:e.getWidget("$ref"),$ref:C})}}}else if("$ref"===f.dataType){var N=_t.compile(c.$ref),P=_t.toDataPointer(N,t.schema),_="";if(f.options.add)_=f.options.add;else if(f.name&&!/^\d+$/.test(f.name))_=(/^add\b/i.test(f.name)?"":"Add ")+kt(f.name);else{var M=_t.get(t.schema,r,0,-1);if(Ot(M,"title"))_="Add to "+M.title;else{var L=_t.parse(f.dataPointer);_="Add to "+kt(L[L.length-2])}}if(Object.assign(f,{recursiveReference:!0,widget:e.getWidget("$ref"),$ref:P}),Object.assign(f.options,{removable:!1,title:_}),tt(_t.get(t.schema,r,0,-1).maxItems)&&(f.options.maxItems=_t.get(t.schema,r,0,-1).maxItems),P.length)if(Ot(t.layoutRefLibrary,P))t.layoutRefLibrary[P].recursiveReference||(t.layoutRefLibrary[P].recursiveReference=!0);else{t.layoutRefLibrary[P]=null;var D=Fe(t,e,null,N,"",f.arrayItem,f.arrayItemType,!0,!0,i);D?(D.recursiveReference=!0,t.layoutRefLibrary[P]=D):delete t.layoutRefLibrary[P]}}return f}function ke(t,e,o,n){void 0===o&&(o=""),void 0===n&&(n=t);var r=0,i=[];return It(t,function(t,s){var a=+s+r,l=o+"/"+a,u=xt(t),p=[];nt(t)&&(Ot(t,"tabs")&&(t.items=t.tabs,delete t.tabs),Ot(t,"items")&&(p=rt(t.items)?t.items:[t.items])),p.length&&(u.items=ke(p,e,l+"/items",n)),Z(u=e(u,a,l,n))?(rt(u)&&(r+=u.length-1),i=i.concat(u)):r--}),i}function Ne(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),t.recursiveReference&&n)return(i=o.cloneDeep(t)).options||(i.options={}),Object.assign(i,{recursiveReference:!0,widget:n.getWidget("$ref")}),Object.assign(i.options,{removable:!1,title:"Add "+i.$ref}),i;var i=e.layoutRefLibrary[t.$ref];return Z(r)?i=Fe(e,n,r,_t.toSchemaPointer(t.$ref,e.schema),t.$ref,i.arrayItem,i.arrayItemType,i.options.removable,!1):(i=o.cloneDeep(i),_t.forEachDeep(i,function(e,n){Ot(e,"_id")&&(e._id=o.uniqueId()),t.recursiveReference&&Ot(e,"dataPointer")&&(e.dataPointer=t.dataPointer+e.dataPointer)})),i}function Pe(t,e,o,n){void 0===o&&(o=!0),void 0===n&&(n=!0);var r=[],i=!1;if(t)if(rt(t))if(e)for(var s=0,a=Object.keys(t);s<a.length;s++){if(nt(t[v=a[s]])){var l=t[v].value;if(e.includes(l)){var u=t[v].name;r.push({name:u,value:l}),void 0!==l&&null!==l||(i=!0)}}else if(X(t[v])&&v<e.length){var p=t[v];l=e[v];r.push({name:p,value:l}),void 0!==l&&null!==l||(i=!0)}}else r=t,o||(i=!!r.filter(function(t){return void 0===t.value||null===t.value}).length);else if(e)for(var c=0,d=Object.keys(e);c<d.length;c++){if(Ot(t,l=e[v=d[c]])){var f=t[l];r.push({name:f,value:l}),void 0!==l&&null!==l||(i=!0)}}else for(var m=0,h=Object.keys(t);m<h.length;m++){var y=t[l=h[m]];r.push({name:y,value:l}),void 0!==l&&null!==l||(i=!0)}else if(e)for(var g=0,b=Object.keys(e);g<b.length;g++){var v,x=e[v=b[g]];l=e[v];r.push({name:x,value:l}),void 0!==l&&null!==l||(i=!0)}else r=[{name:"True",value:!0},{name:"False",value:!1}];return r.some(function(t){return Ot(t,"group")})&&(i=!1,r=n?r.reduce(function(t,e){return Ot(e,"group")?(rt(e.items)&&(t=t.concat(e.items.map(function(t){return Ce({},t,{name:e.group+": "+t.name})})),e.items.some(function(t){return void 0===t.value||null===t.value})&&(i=!0)),Ot(e,"name")&&Ot(e,"value")&&(e.name=e.group+": "+e.name,delete e.group,t.push(e),void 0!==e.value&&null!==e.value||(i=!0))):(t.push(e),void 0!==e.value&&null!==e.value||(i=!0)),t},[]):r.reduce(function(t,e){return Ot(e,"group")?(e.group!==(t[t.length-1]||{}).group&&t.push({group:e.group,items:e.items||[]}),Ot(e,"name")&&Ot(e,"value")&&(t[t.length-1].items.push({name:e.name,value:e.value}),void 0!==e.value&&null!==e.value||(i=!0))):(t.push(e),void 0!==e.value&&null!==e.value||(i=!0)),t},[])),o||i||r.unshift({name:"<em>None</em>",value:null}),r}function _e(t,e){void 0===e&&(e={});var o=e.dateFormat||"YYYY-MM-DD";if("string"==typeof t&&(t=Me(t)),"[object Date]"!==Object.prototype.toString.call(t))return null;return o.replace(/YYYY/gi,t.getFullYear()+"").replace(/YY/gi,(t.getFullYear()+"").slice(-2)).replace(/MMMM/gi,["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]).replace(/MMM/gi,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]).replace(/MM/gi,("0"+(t.getMonth()+1)).slice(-2)).replace(/M/gi,t.getMonth()+1+"").replace(/DDDD/gi,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]).replace(/DDD/gi,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]).replace(/DD/gi,("0"+t.getDate()).slice(-2)).replace(/D/gi,t.getDate()+"").replace(/S/gi,function(t){"number"==typeof t&&(t+="");var e=t.slice(-1);return"1"!==t.slice(-2,1)&&{1:"st",2:"nd",3:"rd"}[e]||"th"}(t.getDate()))}function Me(t){var e=Le(t);if(!e)return null;var o=[];/^\d+[^\d]\d+[^\d]\d+$/.test(e)?o=e.split(/[^\d]/).map(function(t){return+t}):/^\d{8}$/.test(e)&&(o=[+e.slice(0,4),+e.slice(4,6),+e.slice(6)]);var n=+((new Date).getFullYear()+"").slice(-2);if(o[0]>1e3&&o[0]<2100&&o[1]<=12&&o[2]<=31)return new Date(o[0],o[1]-1,o[2]);if(o[0]<=12&&o[1]<=31&&o[2]>1e3&&o[2]<2100)return new Date(o[2],o[0]-1,o[1]);if(o[0]<=12&&o[1]<=31&&o[2]<100){var r=(o[2]<=n?2e3:1900)+o[2];return new Date(r,o[0]-1,o[1])}if(o[0]<100&&o[1]<=12&&o[2]<=31){r=(o[0]<=n?2e3:1900)+o[0];return new Date(r,o[1]-1,o[2])}return null}function Le(t){return t?(e=t.match(/(?:19|20)\d\d[-_\\\/\. ](?:0?\d|1[012])[-_\\\/\. ](?:[012]?\d|3[01])(?!\d)/))?e[0]:(e=t.match(/(?:[012]?\d|3[01])[-_\\\/\. ](?:0?\d|1[012])[-_\\\/\. ](?:19|20)\d\d(?!\d)/))?e[0]:(e=t.match(/^(?:[012]?\d|3[01])[-_\\\/\. ](?:0?\d|1[012])[-_\\\/\. ]\d\d(?!\d)/))?e[0]:(e=t.match(/^\d\d[-_\\\/\. ](?:[012]?\d|3[01])[-_\\\/\. ](?:0?\d|1[012])(?!\d)/))?e[0]:(e=t.match(/^(?:19|20)\d\d(?:0\d|1[012])(?:[012]\d|3[01])/))?e[0]:void 0:null;var e}var De,Se=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ae={ObjectUnsubscribedError:function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Se(e,t),e}(Error)},Ee=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Te={SubjectSubscription:function(t){function e(e,o){t.call(this),this.subject=e,this.subscriber=o,this.closed=!1}return Ee(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var o=e.indexOf(this.subscriber);-1!==o&&e.splice(o,1)}}},e}(F.Subscription)},Ve=u&&u.__extends||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Re=function(t){function e(e){t.call(this,e),this.destination=e}return Ve(e,t),e}(D.Subscriber),qe=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Ve(e,t),e.prototype[N.rxSubscriber]=function(){return new Re(this)},e.prototype.lift=function(t){var e=new $e(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Ae.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,o=e.length,n=e.slice(),r=0;r<o;r++)n[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new Ae.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,o=e.length,n=e.slice(),r=0;r<o;r++)n[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Ae.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,o=t.slice(),n=0;n<e;n++)o[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Ae.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Ae.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),F.Subscription.EMPTY):this.isStopped?(t.complete(),F.Subscription.EMPTY):(this.observers.push(t),new Te.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new q.Observable;return t.source=this,t},e.create=function(t,e){return new $e(t,e)},e}(q.Observable),He=qe,$e=function(t){function e(e,o){t.call(this),this.destination=e,this.source=o}return Ve(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):F.Subscription.EMPTY},e}(qe),ze={required:"This field is required.",minLength:"Must be {{minimumLength}} characters or longer (current length: {{currentLength}})",maxLength:"Must be {{maximumLength}} characters or shorter (current length: {{currentLength}})",pattern:"Must match pattern: {{requiredPattern}}",format:function(t){switch(t.requiredFormat){case"date":return'Must be a date, like "2000-12-31"';case"time":return'Must be a time, like "16:20" or "03:14:15.9265"';case"date-time":return'Must be a date-time, like "2000-03-14T01:59" or "2000-03-14T01:59:26.535Z"';case"email":return'Must be an email address, like "name@example.com"';case"hostname":return'Must be a hostname, like "example.com"';case"ipv4":return'Must be an IPv4 address, like "127.0.0.1"';case"ipv6":return'Must be an IPv6 address, like "1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0"';case"url":return'Must be a url, like "http://www.example.com/page.html"';case"uuid":return'Must be a uuid, like "12345678-9ABC-DEF0-1234-56789ABCDEF0"';case"color":return'Must be a color, like "#FFFFFF" or "rgb(255, 255, 255)"';case"json-pointer":return'Must be a JSON Pointer, like "/pointer/to/something"';case"relative-json-pointer":return'Must be a relative JSON Pointer, like "2/pointer/to/something"';case"regex":return'Must be a regular expression, like "(1-)?\\d{3}-\\d{3}-\\d{4}"';default:return"Must be a correctly formatted "+t.requiredFormat}},minimum:"Must be {{minimumValue}} or more",exclusiveMinimum:"Must be more than {{exclusiveMinimumValue}}",maximum:"Must be {{maximumValue}} or less",exclusiveMaximum:"Must be less than {{exclusiveMaximumValue}}",multipleOf:function(t){return 1/t.multipleOfValue%10==0?"Must have "+Math.log10(1/t.multipleOfValue)+" or fewer decimal places.":"Must be a multiple of "+t.multipleOfValue+"."},minProperties:"Must have {{minimumProperties}} or more items (current items: {{currentProperties}})",maxProperties:"Must have {{maximumProperties}} or fewer items (current items: {{currentProperties}})",minItems:"Must have {{minimumItems}} or more items (current items: {{currentItems}})",maxItems:"Must have {{maximumItems}} or fewer items (current items: {{currentItems}})",uniqueItems:"All items must be unique"},We={required:"Est obligatoire.",minLength:"Doit avoir minimum {{minimumLength}} caractres (actuellement: {{currentLength}})",maxLength:"Doit avoir maximum {{maximumLength}} caractres (actuellement: {{currentLength}})",pattern:"Doit respecter: {{requiredPattern}}",format:function(t){switch(t.requiredFormat){case"date":return'Doit tre une date, tel que "2000-12-31"';case"time":return'Doit tre une heure, tel que "16:20" ou "03:14:15.9265"';case"date-time":return'Doit tre une date et une heure, tel que "2000-03-14T01:59" ou "2000-03-14T01:59:26.535Z"';case"email":return'Doit tre une adresse e-mail, tel que "name@example.com"';case"hostname":return'Doit tre un nom de domaine, tel que "example.com"';case"ipv4":return'Doit tre une adresse IPv4, tel que "127.0.0.1"';case"ipv6":return'Doit tre une adresse IPv6, tel que "1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0"';case"url":return'Doit tre une URL, tel que "http://www.example.com/page.html"';case"uuid":return'Doit tre un UUID, tel que "12345678-9ABC-DEF0-1234-56789ABCDEF0"';case"color":return'Doit tre une couleur, tel que "#FFFFFF" or "rgb(255, 255, 255)"';case"json-pointer":return'Doit tre un JSON Pointer, tel que "/pointer/to/something"';case"relative-json-pointer":return'Doit tre un relative JSON Pointer, tel que "2/pointer/to/something"';case"regex":return'Doit tre une expression rgulire, tel que "(1-)?\\d{3}-\\d{3}-\\d{4}"';default:return"Doit tre avoir le format correct: "+t.requiredFormat}},minimum:"Doit tre suprieur  {{minimumValue}}",exclusiveMinimum:"Doit avoir minimum {{exclusiveMinimumValue}} charactres",maximum:"Doit tre infrieur  {{maximumValue}}",exclusiveMaximum:"Doit avoir maximum {{exclusiveMaximumValue}} charactres",multipleOf:function(t){return 1/t.multipleOfValue%10==0?"Doit comporter "+Math.log10(1/t.multipleOfValue)+" ou moins de decimales.":"Doit tre un multiple de "+t.multipleOfValue+"."},minProperties:"Doit comporter au minimum {{minimumProperties}} lments",maxProperties:"Doit comporter au maximum {{maximumProperties}} lments",minItems:"Doit comporter au minimum {{minimumItems}} lments",maxItems:"Doit comporter au maximum {{minimumItems}} lments",uniqueItems:"Tous les lments doivent tre uniques"},Je=function(){function t(){this.JsonFormCompatibility=!1,this.ReactJsonSchemaFormCompatibility=!1,this.AngularSchemaFormCompatibility=!1,this.tpldata={},this.ajvOptions={allErrors:!0,jsonPointers:!0,unknownFormats:"ignore"},this.ajv=new r(this.ajvOptions),this.validateFormData=null,this.formValues={},this.data={},this.schema={},this.layout=[],this.formGroupTemplate={},this.formGroup=null,this.framework=null,this.validData=null,this.isValid=null,this.ajvErrors=null,this.validationErrors=null,this.dataErrors=new Map,this.formValueSubscription=null,this.dataChanges=new He,this.isValidChanges=new He,this.validationErrorChanges=new He,this.arrayMap=new Map,this.dataMap=new Map,this.dataRecursiveRefMap=new Map,this.schemaRecursiveRefMap=new Map,this.schemaRefLibrary={},this.layoutRefLibrary={"":null},this.templateRefLibrary={},this.hasRootReference=!1,this.language="en-US",this.defaultFormOptions={addSubmit:"auto",debug:!1,disableInvalidSubmit:!0,formDisabled:!1,formReadonly:!1,fieldsRequired:!1,framework:"no-framework",loadExternalAssets:!1,pristine:{errors:!0,success:!0},supressPropertyTitles:!1,setSchemaDefaults:"auto",setLayoutDefaults:"auto",validateOnRender:"auto",widgets:{},defaultWidgetOptions:{listItems:0,addable:!0,orderable:!0,removable:!0,enableErrorState:!0,enableSuccessState:!0,feedback:!1,feedbackOnRender:!1,notitle:!1,disabled:!1,readonly:!1,returnEmptyFields:!0,validationMessages:{}}},this.setLanguage(this.language)}return t.prototype.setLanguage=function(t){void 0===t&&(t="en-US"),this.language=t;var e="fr"===t.slice(0,2)?We:ze;this.defaultFormOptions.defaultWidgetOptions.validationMessages=o.cloneDeep(e)},t.prototype.getData=function(){return this.data},t.prototype.getSchema=function(){return this.schema},t.prototype.getLayout=function(){return this.layout},t.prototype.resetAllValues=function(){this.JsonFormCompatibility=!1,this.ReactJsonSchemaFormCompatibility=!1,this.AngularSchemaFormCompatibility=!1,this.tpldata={},this.validateFormData=null,this.formValues={},this.schema={},this.layout=[],this.formGroupTemplate={},this.formGroup=null,this.framework=null,this.data={},this.validData=null,this.isValid=null,this.validationErrors=null,this.arrayMap=new Map,this.dataMap=new Map,this.dataRecursiveRefMap=new Map,this.schemaRecursiveRefMap=new Map,this.layoutRefLibrary={},this.schemaRefLibrary={},this.templateRefLibrary={},this.formOptions=o.cloneDeep(this.defaultFormOptions)},t.prototype.buildRemoteError=function(t){var e=this;It(t,function(t,o){if(o in e.formGroup.controls)for(var n=0,r=t;n<r.length;n++){var i=r[n],s={};s[i.code]=i.message,e.formGroup.get(o).setErrors(s,{emitEvent:!0})}})},t.prototype.validateData=function(t,e){void 0===e&&(e=!0),this.data=we(t,this.dataMap,this.dataRecursiveRefMap,this.arrayMap,this.formOptions.returnEmptyFields),this.isValid=this.validateFormData(this.data),this.validData=this.isValid?this.data:null;var o,n;this.ajvErrors=this.validateFormData.errors,this.validationErrors=(o=this.validateFormData.errors,n={},(o||[]).forEach(function(t){n[t.dataPath]||(n[t.dataPath]=[]),n[t.dataPath].push(t.message)}),n),e&&(this.dataChanges.next(this.data),this.isValidChanges.next(this.isValid),this.validationErrorChanges.next(this.ajvErrors))},t.prototype.buildFormGroupTemplate=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!0),this.formGroupTemplate=ve(this,t,e)},t.prototype.buildFormGroup=function(){var t=this;this.formGroup=xe(this.formGroupTemplate),this.formGroup&&(this.compileAjvSchema(),this.validateData(this.formGroup.value),this.formValueSubscription&&this.formValueSubscription.unsubscribe(),this.formValueSubscription=this.formGroup.valueChanges.subscribe(function(e){return t.validateData(e)}))},t.prototype.buildLayout=function(t){this.layout=je(this,t)},t.prototype.setOptions=function(t){if(nt(t)){var e=o.cloneDeep(t);nt(e.defaultOptions)&&(Object.assign(this.formOptions.defaultWidgetOptions,e.defaultOptions),delete e.defaultOptions),nt(e.defaultWidgetOptions)&&(Object.assign(this.formOptions.defaultWidgetOptions,e.defaultWidgetOptions),delete e.defaultWidgetOptions),Object.assign(this.formOptions,e);var n=this.formOptions.defaultWidgetOptions;["ErrorState","SuccessState"].filter(function(t){return Ot(n,"disable"+t)}).forEach(function(t){n["enable"+t]=!n["disable"+t],delete n["disable"+t]})}},t.prototype.compileAjvSchema=function(){this.validateFormData||(Array.isArray(this.schema.properties["ui:order"])&&(this.schema["ui:order"]=this.schema.properties["ui:order"],delete this.schema.properties["ui:order"]),this.ajv.removeSchema(this.schema),this.validateFormData=this.ajv.compile(this.schema))},t.prototype.buildSchemaFromData=function(t,e){if(void 0===e&&(e=!1),t)return re(t,e);this.schema=re(this.formValues,e)},t.prototype.buildSchemaFromLayout=function(t){t||(this.schema=void this.layout)},t.prototype.setTpldata=function(t){void 0===t&&(t={}),this.tpldata=t},t.prototype.parseText=function(t,e,o,n){var r=this;return void 0===t&&(t=""),void 0===e&&(e={}),void 0===o&&(o={}),void 0===n&&(n=null),t&&/{{.+?}}/.test(t)?t.replace(/{{(.+?)}}/g,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return r.parseExpression(t[1],e,o,n,r.tpldata)}):t},t.prototype.parseExpression=function(t,e,o,n,r){var i=this;if(void 0===t&&(t=""),void 0===e&&(e={}),void 0===o&&(o={}),void 0===n&&(n=null),void 0===r&&(r=null),"string"!=typeof t)return"";var s="number"==typeof n?n+1+"":n||"";if(("'"===(t=t.trim())[0]||'"'===t[0])&&t[0]===t[t.length-1]&&-1===t.slice(1,t.length-1).indexOf(t[0]))return t.slice(1,t.length-1);if("idx"===t||"$index"===t)return s;if("value"===t&&!Ot(o,"value"))return e;if(['"',"'"," ","||","&&","+"].every(function(e){return-1===t.indexOf(e)})){var a=_t.parseObjectPath(t);return"value"===a[0]&&_t.has(e,a.slice(1))?_t.get(e,a.slice(1)):"values"===a[0]&&_t.has(o,a.slice(1))?_t.get(o,a.slice(1)):"tpldata"===a[0]&&_t.has(r,a.slice(1))?_t.get(r,a.slice(1)):_t.has(o,a)?_t.get(o,a):""}return t.indexOf("[idx]")>-1&&(t=t.replace(/\[idx\]/g,s)),t.indexOf("[$index]")>-1&&(t=t.replace(/\[$index\]/g,s)),t.indexOf("||")>-1?t.split("||").reduce(function(t,s){return t||i.parseExpression(s,e,o,n,r)},""):t.indexOf("&&")>-1?t.split("&&").reduce(function(t,s){return t&&i.parseExpression(s,e,o,n,r)}," ").trim():t.indexOf("+")>-1?t.split("+").map(function(t){return i.parseExpression(t,e,o,n,r)}).join(""):""},t.prototype.setArrayItemTitle=function(t,e,o){void 0===t&&(t={}),void 0===e&&(e=null),void 0===o&&(o=null);var n=t.layoutNode,r=this.getFormControlValue(t),i="array"===(n.type||"").slice(-5)&&rt(r),s=_t.getFirst(i&&"$ref"!==e.type?[[e,"/options/legend"],[e,"/options/title"],[n,"/options/title"],[n,"/options/legend"]]:[[e,"/options/title"],[e,"/options/legend"],[n,"/options/title"],[n,"/options/legend"]]);if(!s)return s;var a=rt(r)&&o<r.length?r[o]:r;return this.parseText(s,a,r,o)},t.prototype.setItemTitle=function(t){return!t.options.title&&/^(\d+|-)$/.test(t.layoutNode.name)?null:this.parseText(t.options.title||Nt(t.layoutNode.name),this.getFormControlValue(this),(this.getFormControlGroup(this)||{}).value,t.dataIndex[t.dataIndex.length-1])},t.prototype.evaluateCondition=function(t,e){var o=e&&e[e.length-1],n=!0;if(K((t.options||{}).condition))if("string"==typeof t.options.condition){var r=t.options.condition;K(o)&&(r=r.replace("[arrayIndex]","["+o+"]")),r=_t.parseObjectPath(r),(n=!!_t.get(this.data,r))||"model"!==r[0]||(n=!!_t.get({model:this.data},r))}else if("function"==typeof t.options.condition)n=t.options.condition(this.data);else if("string"==typeof t.options.condition.functionBody)try{n=new Function("model","arrayIndices",t.options.condition.functionBody)(this.data,e)}catch(e){n=!0,console.error("condition functionBody errored out on evaluation: "+t.options.condition.functionBody)}return n},t.prototype.initializeControl=function(t,e){var n=this;if(void 0===e&&(e=!0),!nt(t))return!1;if(Q(t.options)&&(t.options=Q((t.layoutNode||{}).options)?o.cloneDeep(this.formOptions):t.layoutNode.options),t.formControl=this.getFormControl(t),t.boundControl=e&&!!t.formControl,t.formControl)t.controlName=this.getFormControlName(t),t.controlValue=t.formControl.value,t.controlDisabled=t.formControl.disabled,t.options.errorMessage="VALID"===t.formControl.status?null:this.formatErrors(t.formControl.errors,t.options.validationMessages),t.options.showErrors=!0===this.formOptions.validateOnRender||"auto"===this.formOptions.validateOnRender&&K(t.controlValue),t.formControl.statusChanges.subscribe(function(e){return t.options.errorMessage="VALID"===e?null:n.formatErrors(t.formControl.errors,t.options.validationMessages)}),t.formControl.valueChanges.subscribe(function(e){o.isEqual(t.controlValue,e)||(t.controlValue=e)});else{t.controlName=t.layoutNode.name,t.controlValue=t.layoutNode.value||null;var r=this.getDataPointer(t);e&&r&&console.error('warning: control "'+r+'" is not bound to the Angular FormGroup.')}return t.boundControl},t.prototype.formatErrors=function(t,e){if(void 0===e&&(e={}),Q(t))return null;nt(e)||(e={});var o=function(t){return t[0].toUpperCase()+(t.slice(1)||"").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ")},n=function(t){return"object"==typeof t?Object.keys(t).map(function(e){return!0===t[e]?o(e):!1===t[e]?"Not "+o(e):o(e)+": "+n(t[e])}).join(", "):o(t.toString())};return Object.keys(t).filter(function(e){return"required"!==e||1===Object.keys(t).length}).map(function(r){return"string"==typeof e?e:"function"==typeof e[r]?e[r](t[r]):"string"==typeof e[r]?/{{.+?}}/.test(e[r])?Object.keys(t[r]).reduce(function(e,o){return e.replace(new RegExp("{{"+o+"}}","g"),t[r][o])},e[r]):e[r]:o(r)+" Error: "+n(t[r])}).join("<br>")},t.prototype.updateValue=function(t,e){if(t.controlValue=e,t.boundControl&&(rt(e)?this.updateArray(t,e):(t.formControl.markAsDirty(),t.formControl.setValue(e))),t.layoutNode.value=e,rt(t.options.copyValueTo))for(var o=0,n=t.options.copyValueTo;o<n.length;o++){var r=n[o],i=Oe(this.formGroup,r);nt(i)&&"function"==typeof i.setValue&&(i.markAsDirty(),i.setValue(e))}},t.prototype.updateArray=function(t,e){for(var o=this.getFormControl(t);o.value.length;)o.removeAt(0);var n=se(t.layoutNode.dataPointer+"/-",this.dataRecursiveRefMap,this.arrayMap);o.markAsDirty();for(var r=0,i=e;r<i.length;r++){var s=i[r],a=xe(this.templateRefLibrary[n]);a.setValue(s),o.push(a)}},t.prototype.getFormControl=function(t){return t.layoutNode&&Z(t.layoutNode.dataPointer)&&"$ref"!==t.layoutNode.type?Oe(this.formGroup,this.getDataPointer(t)):null},t.prototype.getFormControlValue=function(t){if(!t.layoutNode||!Z(t.layoutNode.dataPointer)||"$ref"===t.layoutNode.type)return null;var e=Oe(this.formGroup,this.getDataPointer(t));return e?e.value:null},t.prototype.getFormControlGroup=function(t){return t.layoutNode&&Z(t.layoutNode.dataPointer)?Oe(this.formGroup,this.getDataPointer(t),!0):null},t.prototype.getFormControlName=function(t){return t.layoutNode&&Z(t.layoutNode.dataPointer)&&K(t.dataIndex)?_t.toKey(this.getDataPointer(t)):null},t.prototype.getLayoutArray=function(t){return _t.get(this.layout,this.getLayoutPointer(t),0,-1)},t.prototype.getParentNode=function(t){return _t.get(this.layout,this.getLayoutPointer(t),0,-2)},t.prototype.getDataPointer=function(t){return t.layoutNode&&Z(t.layoutNode.dataPointer)&&K(t.dataIndex)?_t.toIndexedPointer(t.layoutNode.dataPointer,t.dataIndex,this.arrayMap):null},t.prototype.getLayoutPointer=function(t){return K(t.layoutIndex)?"/"+t.layoutIndex.join("/items/"):null},t.prototype.isControlBound=function(t){if(!t.layoutNode||!Z(t.layoutNode.dataPointer)||!K(t.dataIndex))return!1;var e=this.getFormControlGroup(t),o=this.getFormControlName(t);return!!e&&Ot(e.controls,o)},t.prototype.addItem=function(t,e){if(!(t.layoutNode&&Z(t.layoutNode.$ref)&&K(t.dataIndex)&&K(t.layoutIndex)))return!1;var o=xe(this.templateRefLibrary[t.layoutNode.$ref]);t.layoutNode.arrayItem?this.getFormControlGroup(t).push(o):this.getFormControlGroup(t).addControl(e||this.getFormControlName(t),o);var n=Ne(t.layoutNode,this);return n.arrayItem=t.layoutNode.arrayItem,t.layoutNode.arrayItemType?n.arrayItemType=t.layoutNode.arrayItemType:delete n.arrayItemType,e&&(n.name=e,n.dataPointer+="/"+_t.escape(e),n.options.title=kt(e)),_t.insert(this.layout,this.getLayoutPointer(t),n),!0},t.prototype.moveArrayItem=function(t,e,o){if(!(t.layoutNode&&Z(t.layoutNode.dataPointer)&&K(t.dataIndex)&&K(t.layoutIndex)&&Z(e)&&Z(o)&&e!==o))return!1;var n=this.getFormControlGroup(t),r=n.at(e);n.removeAt(e),n.insert(o,r),n.updateValueAndValidity();var i=this.getLayoutArray(t);return i.splice(o,0,i.splice(e,1)[0]),!0},t.prototype.removeItem=function(t){return!!(t.layoutNode&&Z(t.layoutNode.dataPointer)&&K(t.dataIndex)&&K(t.layoutIndex))&&(t.layoutNode.arrayItem?this.getFormControlGroup(t).removeAt(t.dataIndex[t.dataIndex.length-1]):this.getFormControlGroup(t).removeControl(this.getFormControlName(t)),_t.remove(this.layout,this.getLayoutPointer(t)),!0)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),Be=function(){function t(t,e,o){this.elementRef=t,this.jsf=e,this.ngZone=o,this.overParentElement=!1,this.overChildElement=!1}return t.prototype.ngOnInit=function(){var t=this;this.orderable&&this.layoutNode&&this.layoutIndex&&this.dataIndex&&(this.element=this.elementRef.nativeElement,this.element.draggable=!0,this.arrayLayoutIndex="move:"+this.layoutIndex.slice(0,-1).toString(),this.ngZone.runOutsideAngular(function(){t.element.addEventListener("dragstart",function(e){e.dataTransfer.effectAllowed="move";var o=t.dataIndex[t.dataIndex.length-1];sessionStorage.setItem(t.arrayLayoutIndex,o+"")}),t.element.addEventListener("dragover",function(t){return t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move",!1}),t.element.addEventListener("dragenter",function(e){if(t.overParentElement)return t.overChildElement=!0;t.overParentElement=!0;var o=sessionStorage.getItem(t.arrayLayoutIndex);null!==o&&(t.dataIndex[t.dataIndex.length-1]<+o?t.element.classList.add("drag-target-top"):t.dataIndex[t.dataIndex.length-1]>+o&&t.element.classList.add("drag-target-bottom"))}),t.element.addEventListener("dragleave",function(e){t.overChildElement?t.overChildElement=!1:t.overParentElement&&(t.overParentElement=!1);var o=sessionStorage.getItem(t.arrayLayoutIndex);t.overParentElement||t.overChildElement||null===o||(t.element.classList.remove("drag-target-top"),t.element.classList.remove("drag-target-bottom"))}),t.element.addEventListener("drop",function(e){t.element.classList.remove("drag-target-top"),t.element.classList.remove("drag-target-bottom");var o=sessionStorage.getItem(t.arrayLayoutIndex),n=t.dataIndex[t.dataIndex.length-1];return null!==o&&+o!==n&&t.jsf.moveArrayItem(t,+o,n),sessionStorage.removeItem(t.arrayLayoutIndex),!1})}))},t.decorators=[{type:e.Directive,args:[{selector:"[orderable]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:Je},{type:e.NgZone}]},t.propDecorators={orderable:[{type:e.Input}],layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),Ge=function(){function t(t){this.jsf=t,this.boundControl=!1,this.controlDisabled=!1}return t.prototype.ngOnInit=function(){this.jsf.initializeControl(this),this.options=this.layoutNode.options||{}},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),Ue=(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}De(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),Ye=function(t){function o(e){return t.call(this,e)||this}return Ue(o,t),Object.defineProperty(o.prototype,"showAddButton",{get:function(){return!this.layoutNode.arrayItem||this.layoutIndex[this.layoutIndex.length-1]<this.options.maxItems},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"buttonText",{get:function(){var t={dataIndex:this.dataIndex.slice(0,-1),layoutIndex:this.layoutIndex.slice(0,-1),layoutNode:this.jsf.getParentNode(this)};return t.layoutNode.add||this.jsf.setArrayItemTitle(t,this.layoutNode,this.itemCount)},enumerable:!0,configurable:!0}),o.prototype.addItem=function(t){t.preventDefault(),this.jsf.addItem(this)},o.decorators=[{type:e.Component,args:[{selector:"add-reference-widget",template:'\n    <button *ngIf="showAddButton"\n      [class]="options?.fieldHtmlClass || \'\'"\n      [disabled]="options?.readonly"\n      (click)="addItem($event)">\n      <span *ngIf="options?.icon" [class]="options?.icon"></span>\n      <span *ngIf="options?.title" [innerHTML]="buttonText"></span>\n    </button>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),Ze=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ke=function(t){function o(e){return t.call(this,e)||this}return Ze(o,t),o.decorators=[{type:e.Component,args:[{selector:"one-of-widget",template:""}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),Qe=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xe=function(t){function o(e){return t.call(this,e)||this}return Qe(o,t),o.prototype.updateValue=function(e){"function"==typeof this.options.onClick?this.options.onClick(e):t.prototype.updateValue.call(this,e)},o.decorators=[{type:e.Component,args:[{selector:"button-widget",template:'\n    <div\n      [class]="options?.htmlClass || \'\'">\n      <button\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [name]="controlName"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (click)="updateValue($event)">\n        <span *ngIf="options?.icon || options?.title"\n          [class]="options?.icon"\n          [innerHTML]="options?.title"></span>\n      </button>\n    </div>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),to=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),eo=function(t){function o(e){var o=t.call(this,e)||this;return o.trueValue=!0,o.falseValue=!1,o}return to(o,t),Object.defineProperty(o.prototype,"isChecked",{get:function(){return this.jsf.getFormControlValue(this)===this.trueValue},enumerable:!0,configurable:!0}),o.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),null!==this.controlValue&&void 0!==this.controlValue||(this.controlValue=this.options.title)},o.prototype.updateValue=function(t){t.preventDefault(),this.jsf.updateValue(this,t.target.checked?this.trueValue:this.falseValue)},o.decorators=[{type:e.Component,args:[{selector:"checkbox-widget",template:"\n    <label\n      [attr.for]=\"'control' + layoutNode?._id\"\n      [class]=\"options?.itemLabelHtmlClass || ''\">\n      <input *ngIf=\"boundControl\"\n        [formControl]=\"formControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [class]=\"(options?.fieldHtmlClass || '') + (isChecked ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        type=\"checkbox\">\n      <input *ngIf=\"!boundControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [checked]=\"isChecked ? 'checked' : null\"\n        [class]=\"(options?.fieldHtmlClass || '') + (isChecked ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\"\n        [disabled]=\"controlDisabled\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        [value]=\"controlValue\"\n        type=\"checkbox\"\n        (change)=\"updateValue($event)\">\n      <span *ngIf=\"options?.title\"\n        [style.display]=\"options?.notitle ? 'none' : ''\"\n        [innerHTML]=\"options?.title\"></span>\n    </label>"}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),oo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),no=function(t){function o(e){var o=t.call(this,e)||this;return o.checkboxList=[],o}return oo(o,t),o.prototype.ngOnInit=function(){if(this.layoutOrientation="checkboxes-inline"===this.layoutNode.type||"checkboxbuttons"===this.layoutNode.type?"horizontal":"vertical",t.prototype.ngOnInit.call(this),this.checkboxList=Pe(this.options.titleMap||this.options.enumNames,this.options.enum,!0),this.boundControl){var e=this.jsf.getFormControl(this);this.checkboxList.forEach(function(t){return t.checked=e.value.includes(t.value)})}},o.prototype.updateValue=function(t){for(var e=0,o=this.checkboxList;e<o.length;e++){var n=o[e];t.target.value===n.value&&(n.checked=t.target.checked)}this.boundControl&&this.jsf.updateValue(this,this.checkboxList.filter(function(t){return t.checked}).map(function(t){return t.value}))},o.decorators=[{type:e.Component,args:[{selector:"checkboxes-widget",template:'\n    <label *ngIf="options?.title"\n      [class]="options?.labelHtmlClass || \'\'"\n      [style.display]="options?.notitle ? \'none\' : \'\'"\n      [innerHTML]="options?.title"></label>\n\n    \x3c!-- \'horizontal\' = checkboxes-inline or checkboxbuttons --\x3e\n    <div *ngIf="layoutOrientation === \'horizontal\'" [class]="options?.htmlClass || \'\'">\n      <label *ngFor="let checkboxItem of checkboxList"\n        [attr.for]="\'control\' + layoutNode?._id + \'/\' + checkboxItem.value"\n        [class]="(options?.itemLabelHtmlClass || \'\') + (checkboxItem.checked ?\n          (\' \' + (options?.activeClass || \'\') + \' \' + (options?.style?.selected || \'\')) :\n          (\' \' + (options?.style?.unselected || \'\')))">\n        <input type="checkbox"\n          [attr.required]="options?.required"\n          [checked]="checkboxItem.checked"\n          [class]="options?.fieldHtmlClass || \'\'"\n          [disabled]="controlDisabled"\n          [id]="\'control\' + layoutNode?._id + \'/\' + checkboxItem.value"\n          [name]="checkboxItem?.name"\n          [readonly]="options?.readonly ? \'readonly\' : null"\n          [value]="checkboxItem.value"\n          (change)="updateValue($event)">\n        <span [innerHTML]="checkboxItem.name"></span>\n      </label>\n    </div>\n\n    \x3c!-- \'vertical\' = regular checkboxes --\x3e\n    <div *ngIf="layoutOrientation === \'vertical\'">\n      <div *ngFor="let checkboxItem of checkboxList" [class]="options?.htmlClass || \'\'">\n        <label\n          [attr.for]="\'control\' + layoutNode?._id + \'/\' + checkboxItem.value"\n          [class]="(options?.itemLabelHtmlClass || \'\') + (checkboxItem.checked ?\n            (\' \' + (options?.activeClass || \'\') + \' \' + (options?.style?.selected || \'\')) :\n            (\' \' + (options?.style?.unselected || \'\')))">\n          <input type="checkbox"\n            [attr.required]="options?.required"\n            [checked]="checkboxItem.checked"\n            [class]="options?.fieldHtmlClass || \'\'"\n            [disabled]="controlDisabled"\n            [id]="options?.name + \'/\' + checkboxItem.value"\n            [name]="checkboxItem?.name"\n            [readonly]="options?.readonly ? \'readonly\' : null"\n            [value]="checkboxItem.value"\n            (change)="updateValue($event)">\n          <span [innerHTML]="checkboxItem?.name"></span>\n        </label>\n      </div>\n    </div>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),ro=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),io=function(t){function o(e){return t.call(this,e)||this}return ro(o,t),o.decorators=[{type:e.Component,args:[{selector:"file-widget",template:""}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),so=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ao=function(t){function o(e){var o=t.call(this,e)||this;return o.autoCompleteList=[],o}return so(o,t),o.decorators=[{type:e.Component,args:[{selector:"input-widget",template:'\n    <div [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <input *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [attr.placeholder]="options?.placeholder"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [type]="layoutNode?.type">\n      <input *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [attr.placeholder]="options?.placeholder"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (input)="updateValue($event)">\n        <datalist *ngIf="options?.typeahead?.source"\n          [id]="\'control\' + layoutNode?._id + \'Autocomplete\'">\n          <option *ngFor="let word of options?.typeahead?.source" [value]="word">\n        </datalist>\n    </div>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),lo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),uo=function(t){function o(e){var o=t.call(this,e)||this;return o.message=null,o}return lo(o,t),o.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.message=this.options.help||this.options.helpvalue||this.options.msg||this.options.message},o.decorators=[{type:e.Component,args:[{selector:"message-widget",template:'\n    <span *ngIf="message"\n      [class]="options?.labelHtmlClass || \'\'"\n      [innerHTML]="message"></span>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),po=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),co=function(t){function o(e){return t.call(this,e)||this}return po(o,t),o.decorators=[{type:e.Component,args:[{selector:"none-widget",template:""}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),fo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mo=function(t){function o(e){var o=t.call(this,e)||this;return o.allowDecimal=!0,o.allowExponents=!1,o.allowNegative=!0,o.lastValidNumber="",o}return fo(o,t),o.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},o.decorators=[{type:e.Component,args:[{selector:"number-widget",template:'\n    <div [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <input *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.max]="options?.maximum"\n        [attr.min]="options?.minimum"\n        [attr.placeholder]="options?.placeholder"\n        [attr.required]="options?.required"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.step]="options?.multipleOf || options?.step || \'any\'"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [title]="lastValidNumber"\n        [type]="layoutNode?.type === \'range\' ? \'range\' : \'number\'">\n      <input *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.max]="options?.maximum"\n        [attr.min]="options?.minimum"\n        [attr.placeholder]="options?.placeholder"\n        [attr.required]="options?.required"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.step]="options?.multipleOf || options?.step || \'any\'"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [title]="lastValidNumber"\n        [type]="layoutNode?.type === \'range\' ? \'range\' : \'number\'"\n        [value]="controlValue"\n        (input)="updateValue($event)">\n      <span *ngIf="layoutNode?.type === \'range\'" [innerHTML]="controlValue"></span>\n    </div>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),ho=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yo=function(t){function o(e){var o=t.call(this,e)||this;return o.layoutOrientation="vertical",o.radiosList=[],o}return ho(o,t),o.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),"radios-inline"!==this.layoutNode.type&&"radiobuttons"!==this.layoutNode.type||(this.layoutOrientation="horizontal"),this.radiosList=Pe(this.options.titleMap||this.options.enumNames,this.options.enum,!0)},o.decorators=[{type:e.Component,args:[{selector:"radios-widget",template:"\n    <label *ngIf=\"options?.title\"\n      [attr.for]=\"'control' + layoutNode?._id\"\n      [class]=\"options?.labelHtmlClass || ''\"\n      [style.display]=\"options?.notitle ? 'none' : ''\"\n      [innerHTML]=\"options?.title\"></label>\n\n    \x3c!-- 'horizontal' = radios-inline or radiobuttons --\x3e\n    <div *ngIf=\"layoutOrientation === 'horizontal'\"\n      [class]=\"options?.htmlClass || ''\">\n      <label *ngFor=\"let radioItem of radiosList\"\n        [attr.for]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n        [class]=\"(options?.itemLabelHtmlClass || '') +\n          ((controlValue + '' === radioItem?.value + '') ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\">\n        <input type=\"radio\"\n          [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n          [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n          [attr.required]=\"options?.required\"\n          [checked]=\"radioItem?.value === controlValue\"\n          [class]=\"options?.fieldHtmlClass || ''\"\n          [disabled]=\"controlDisabled\"\n          [id]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n          [name]=\"controlName\"\n          [value]=\"radioItem?.value\"\n          (change)=\"updateValue($event)\">\n        <span [innerHTML]=\"radioItem?.name\"></span>\n      </label>\n    </div>\n\n    \x3c!-- 'vertical' = regular radios --\x3e\n    <div *ngIf=\"layoutOrientation !== 'horizontal'\">\n      <div *ngFor=\"let radioItem of radiosList\"\n        [class]=\"options?.htmlClass || ''\">\n        <label\n          [attr.for]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n          [class]=\"(options?.itemLabelHtmlClass || '') +\n            ((controlValue + '' === radioItem?.value + '') ?\n            (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n            (' ' + (options?.style?.unselected || '')))\">\n          <input type=\"radio\"\n            [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n            [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n            [attr.required]=\"options?.required\"\n            [checked]=\"radioItem?.value === controlValue\"\n            [class]=\"options?.fieldHtmlClass || ''\"\n            [disabled]=\"controlDisabled\"\n            [id]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n            [name]=\"controlName\"\n            [value]=\"radioItem?.value\"\n            (change)=\"updateValue($event)\">\n          <span [innerHTML]=\"radioItem?.name\"></span>\n        </label>\n      </div>\n    </div>"}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),go=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bo=function(t){function o(e){var o=t.call(this,e)||this;return o.isFlexItem=!1,o}return go(o,t),o.prototype.ngOnInit=function(){},o.prototype.isDraggable=function(t){return t.arrayItem&&"$ref"!==t.type&&"list"===t.arrayItemType&&!1!==this.isOrderable},o.prototype.getFlexAttribute=function(t,e){var o=["flex-grow","flex-shrink","flex-basis"].indexOf(e);return((t.options||{}).flex||"").split(/\s+/)[o]||(t.options||{})[e]||["1","1","auto"][o]},o.prototype.showWidget=function(t){return this.jsf.evaluateCondition(t,this.dataIndex)},o.decorators=[{type:e.Component,args:[{selector:"root-widget",template:'\n    <div *ngFor="let layoutItem of layout; let i = index"\n      [class.form-flex-item]="isFlexItem"\n      [style.align-self]="(layoutItem.options || {})[\'align-self\']"\n      [style.flex-basis]="getFlexAttribute(layoutItem, \'flex-basis\')"\n      [style.flex-grow]="getFlexAttribute(layoutItem, \'flex-grow\')"\n      [style.flex-shrink]="getFlexAttribute(layoutItem, \'flex-shrink\')"\n      [style.order]="(layoutItem.options || {}).order">\n      <div\n        [dataIndex]="layoutItem?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])"\n        [layoutIndex]="(layoutIndex || []).concat(i)"\n        [layoutNode]="layoutItem"\n        [orderable]="isDraggable(layoutItem)">\n        <select-framework-widget *ngIf="showWidget(layoutItem)"\n          [dataIndex]="layoutItem?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])"\n          [layoutIndex]="(layoutIndex || []).concat(i)"\n          [layoutNode]="layoutItem"></select-framework-widget>\n      </div>\n    </div>',styles:["\n    [draggable=true] {\n      transition: all 150ms cubic-bezier(.4, 0, .2, 1);\n    }\n    [draggable=true]:hover {\n      cursor: move;\n      box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n      position: relative; z-index: 10;\n      margin-top: -1px;\n      margin-left: -1px;\n      margin-right: 1px;\n      margin-bottom: 1px;\n    }\n    [draggable=true].drag-target-top {\n      box-shadow: 0 -2px 0 #000;\n      position: relative; z-index: 20;\n    }\n    [draggable=true].drag-target-bottom {\n      box-shadow: 0 2px 0 #000;\n      position: relative; z-index: 20;\n    }\n  "]}]}],o.ctorParameters=function(){return[{type:Je}]},o.propDecorators={isOrderable:[{type:e.Input}],isFlexItem:[{type:e.Input}],layout:[{type:e.Input}]},o}(Ge),vo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xo=function(t){function o(e){var o=t.call(this,e)||this;return o.expanded=!0,o}return vo(o,t),Object.defineProperty(o.prototype,"sectionTitle",{get:function(){return this.options.notitle?null:this.jsf.setItemTitle(this)},enumerable:!0,configurable:!0}),o.prototype.ngOnInit=function(){switch(t.prototype.ngOnInit.call(this),this.expanded="boolean"==typeof this.options.expanded?this.options.expanded:!this.options.expandable,this.layoutNode.type){case"fieldset":case"array":case"tab":case"advancedfieldset":case"authfieldset":case"optionfieldset":case"selectfieldset":this.containerType="fieldset";break;default:this.containerType="div"}},o.prototype.toggleExpanded=function(){this.options.expandable&&(this.expanded=!this.expanded)},o.prototype.getFlexAttribute=function(t){var e="flex"===this.layoutNode.type||!!this.options.displayFlex||"flex"===this.options.display;if(!e&&"flex"!==t&&"display"!==t)return null;switch(t){case"is-flex":return e;case"display":return e?"flex":"initial";case"flex-direction":case"flex-wrap":var o=["flex-direction","flex-wrap"].indexOf(t);return(this.options["flex-flow"]||"").split(/\s+/)[o]||this.options[t]||["column","nowrap"][o];case"justify-content":case"align-items":case"align-content":return this.options[t]}},o.decorators=[{type:e.Component,args:[{selector:"section-widget",template:'\n    <div *ngIf="containerType === \'div\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded">\n      <label *ngIf="sectionTitle"\n        class="legend"\n        [class]="options?.labelHtmlClass || \'\'"\n        [innerHTML]="sectionTitle"\n        (click)="toggleExpanded()"></label>\n      <root-widget *ngIf="expanded"\n        [dataIndex]="dataIndex"\n        [layout]="layoutNode.items"\n        [layoutIndex]="layoutIndex"\n        [isFlexItem]="getFlexAttribute(\'is-flex\')"\n        [isOrderable]="options?.orderable"\n        [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n        [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n        [style.align-content]="getFlexAttribute(\'align-content\')"\n        [style.align-items]="getFlexAttribute(\'align-items\')"\n        [style.display]="getFlexAttribute(\'display\')"\n        [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n        [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n        [style.justify-content]="getFlexAttribute(\'justify-content\')"></root-widget>\n    </div>\n    <fieldset *ngIf="containerType === \'fieldset\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded"\n      [disabled]="options?.readonly">\n      <legend *ngIf="sectionTitle"\n        class="legend"\n        [class]="options?.labelHtmlClass || \'\'"\n        [innerHTML]="sectionTitle"\n        (click)="toggleExpanded()"></legend>\n      <div *ngIf="options?.messageLocation !== \'bottom\'">\n        <p *ngIf="options?.description"\n        class="help-block"\n        [class]="options?.labelHelpBlockClass || \'\'"\n        [innerHTML]="options?.description"></p>\n      </div>\n      <root-widget *ngIf="expanded"\n        [dataIndex]="dataIndex"\n        [layout]="layoutNode.items"\n        [layoutIndex]="layoutIndex"\n        [isFlexItem]="getFlexAttribute(\'is-flex\')"\n        [isOrderable]="options?.orderable"\n        [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n        [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n        [style.align-content]="getFlexAttribute(\'align-content\')"\n        [style.align-items]="getFlexAttribute(\'align-items\')"\n        [style.display]="getFlexAttribute(\'display\')"\n        [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n        [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n        [style.justify-content]="getFlexAttribute(\'justify-content\')"></root-widget>\n      <div *ngIf="options?.messageLocation === \'bottom\'">\n        <p *ngIf="options?.description"\n        class="help-block"\n        [class]="options?.labelHelpBlockClass || \'\'"\n        [innerHTML]="options?.description"></p>\n      </div>\n    </fieldset>',styles:["\n    .legend { font-weight: bold; }\n    .expandable > legend:before, .expandable > label:before  { content: ''; padding-right: .3em; }\n    .expanded > legend:before, .expanded > label:before  { content: ''; padding-right: .2em; }\n  "]}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),Io=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wo=function(t){function o(e){var o=t.call(this,e)||this;return o.selectList=[],o.isArray=rt,o}return Io(o,t),o.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),this.selectList=Pe(this.options.titleMap||this.options.enumNames,this.options.enum,!!this.options.required,!!this.options.flatList)},o.decorators=[{type:e.Component,args:[{selector:"select-widget",template:'\n    <div\n      [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <select *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName">\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <option *ngIf="!isArray(selectItem?.items)"\n            [value]="selectItem?.value">\n            <span [innerHTML]="selectItem?.name"></span>\n          </option>\n          <optgroup *ngIf="isArray(selectItem?.items)"\n            [label]="selectItem?.group">\n            <option *ngFor="let subItem of selectItem.items"\n              [value]="subItem?.value">\n              <span [innerHTML]="subItem?.name"></span>\n            </option>\n          </optgroup>\n        </ng-template>\n      </select>\n      <select *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        (change)="updateValue($event)">\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <option *ngIf="!isArray(selectItem?.items)"\n            [selected]="selectItem?.value === controlValue"\n            [value]="selectItem?.value">\n            <span [innerHTML]="selectItem?.name"></span>\n          </option>\n          <optgroup *ngIf="isArray(selectItem?.items)"\n            [label]="selectItem?.group">\n            <option *ngFor="let subItem of selectItem.items"\n              [attr.selected]="subItem?.value === controlValue"\n              [value]="subItem?.value">\n              <span [innerHTML]="subItem?.name"></span>\n            </option>\n          </optgroup>\n        </ng-template>\n      </select>\n    </div>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),Oo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Co=function(t){function o(e,o){var n=t.call(this,e)||this;return n.componentFactory=o,n.newComponent=null,n}return Oo(o,t),o.prototype.ngOnInit=function(){this.updateComponent()},o.prototype.ngOnChanges=function(){this.updateComponent()},o.prototype.updateComponent=function(){if(this.createComponent(),this.newComponent)for(var t=0,e=["layoutNode","layoutIndex","dataIndex"];t<e.length;t++){var o=e[t];this.newComponent.instance[o]=this[o]}},o.prototype.createComponent=function(){!this.newComponent&&this.layoutNode.options.template&&(this.newComponent=this.widgetContainer.createComponent(this.componentFactory.resolveComponentFactory(this.layoutNode.options.template)))},o.decorators=[{type:e.Component,args:[{selector:"template-widget",template:"<div #widgetContainer></div>"}]}],o.ctorParameters=function(){return[{type:Je},{type:e.ComponentFactoryResolver}]},o.propDecorators={widgetContainer:[{type:e.ViewChild,args:["widgetContainer",{read:e.ViewContainerRef}]}]},o}(Ge),jo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fo=function(t){function o(e,o){return t.call(this,e,o)||this}return jo(o,t),o.prototype.createComponent=function(){!this.newComponent&&this.jsf.framework&&(this.newComponent=this.widgetContainer.createComponent(this.componentFactory.resolveComponentFactory(this.jsf.framework)))},o.decorators=[{type:e.Component,args:[{selector:"select-framework-widget",template:"<div #widgetContainer></div>"}]}],o.ctorParameters=function(){return[{type:Je},{type:e.ComponentFactoryResolver}]},o}(Co),ko=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),No=function(t){function o(e,o){return t.call(this,e,o)||this}return ko(o,t),o.prototype.createComponent=function(){!this.newComponent&&(this.layoutNode||{}).widget&&(this.newComponent=this.widgetContainer.createComponent(this.componentFactory.resolveComponentFactory(this.layoutNode.widget)))},o.decorators=[{type:e.Component,args:[{selector:"select-widget-widget",template:"<div #widgetContainer></div>"}]}],o.ctorParameters=function(){return[{type:Je},{type:e.ComponentFactoryResolver}]},o}(Co),Po=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_o=function(t){function o(e){return t.call(this,e)||this}return Po(o,t),o.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),Ot(this.options,"disabled")?this.controlDisabled=this.options.disabled:this.jsf.formOptions.disableInvalidSubmit&&(this.controlDisabled=!this.jsf.isValid,this.jsf.isValidChanges.subscribe(function(t){return e.controlDisabled=!t})),null!==this.controlValue&&void 0!==this.controlValue||(this.controlValue=this.options.title)},o.decorators=[{type:e.Component,args:[{selector:"submit-widget",template:'\n    <div\n      [class]="options?.htmlClass || \'\'">\n      <input\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (click)="updateValue($event)">\n    </div>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Xe),Mo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lo=function(t){function o(e){var o=t.call(this,e)||this;return o.selectedItem=0,o.showAddTab=!0,o}return Mo(o,t),o.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.itemCount=this.layoutNode.items.length-1,this.updateControl()},o.prototype.select=function(t){"$ref"===this.layoutNode.items[t].type&&(this.itemCount=this.layoutNode.items.length,this.jsf.addItem({layoutNode:this.layoutNode.items[t],layoutIndex:this.layoutIndex.concat(t),dataIndex:this.dataIndex.concat(t)}),this.updateControl()),this.selectedItem=t},o.prototype.updateControl=function(){var t=this.layoutNode.items[this.layoutNode.items.length-1];this.showAddTab="$ref"!==t.type||this.itemCount<(t.options.maxItems||1e3)},o.prototype.setTabTitle=function(t,e){return this.jsf.setArrayItemTitle(this,t,e)},o.decorators=[{type:e.Component,args:[{selector:"tabs-widget",template:"\n    <ul\n      [class]=\"options?.labelHtmlClass || ''\">\n      <li *ngFor=\"let item of layoutNode?.items; let i = index\"\n        [class]=\"(options?.itemLabelHtmlClass || '') + (selectedItem === i ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + options?.style?.unselected))\"\n        role=\"presentation\"\n        data-tabs>\n        <a *ngIf=\"showAddTab || item.type !== '$ref'\"\n           [class]=\"'nav-link' + (selectedItem === i ? (' ' + options?.activeClass + ' ' + options?.style?.selected) :\n            (' ' + options?.style?.unselected))\"\n          [innerHTML]=\"setTabTitle(item, i)\"\n          (click)=\"select(i)\"></a>\n      </li>\n    </ul>\n\n    <div *ngFor=\"let layoutItem of layoutNode?.items; let i = index\"\n      [class]=\"options?.htmlClass || ''\">\n\n      <select-framework-widget *ngIf=\"selectedItem === i\"\n        [class]=\"(options?.fieldHtmlClass || '') +\n          ' ' + (options?.activeClass || '') +\n          ' ' + (options?.style?.selected || '')\"\n        [dataIndex]=\"layoutNode?.dataType === 'array' ? (dataIndex || []).concat(i) : dataIndex\"\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\n        [layoutNode]=\"layoutItem\"></select-framework-widget>\n\n    </div>",styles:[" a { cursor: pointer; } "]}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),Do=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),So=function(t){function o(e){return t.call(this,e)||this}return Do(o,t),o.decorators=[{type:e.Component,args:[{selector:"textarea-widget",template:'\n    <div\n      [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <textarea *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [attr.placeholder]="options?.placeholder"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"></textarea>\n      <textarea *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [attr.placeholder]="options?.placeholder"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [value]="controlValue"\n        (input)="updateValue($event)">{{controlValue}}</textarea>\n    </div>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),Ao=function(){function t(){this.defaultWidget="text",this.widgetLibrary={none:co,root:bo,"select-framework":Fo,"select-widget":No,$ref:Ye,email:"text",integer:"number",number:mo,password:"text",search:"text",tel:"text",text:ao,url:"text",color:"text",date:"text",datetime:"text","datetime-local":"text",month:"text",range:"number",time:"text",week:"text",checkbox:eo,file:io,hidden:"text",image:"text",radio:"radios",reset:"submit",submit:_o,button:Xe,select:wo,textarea:So,checkboxes:no,"checkboxes-inline":"checkboxes",checkboxbuttons:"checkboxes",radios:yo,"radios-inline":"radios",radiobuttons:"radios",section:xo,div:"section",fieldset:"section",flex:"section","one-of":Ke,array:"section",tabarray:"tabs",tab:"section",tabs:Lo,message:uo,help:"message",msg:"message",html:"message",template:Co,advancedfieldset:"section",authfieldset:"section",optionfieldset:"one-of",selectfieldset:"one-of",conditional:"section",actions:"section",tagsinput:"section",updown:"number","date-time":"datetime-local","alt-datetime":"datetime-local","alt-date":"date",wizard:"section",textline:"text"},this.registeredWidgets={},this.frameworkWidgets={},this.activeWidgets={},this.setActiveWidgets()}return t.prototype.setActiveWidgets=function(){this.activeWidgets=Object.assign({},this.widgetLibrary,this.frameworkWidgets,this.registeredWidgets);for(var t=0,e=Object.keys(this.activeWidgets);t<e.length;t++){var o=e[t],n=this.activeWidgets[o];if("string"==typeof n){for(var r=[];"string"==typeof n&&!r.includes(n);)r.push(n),n=this.activeWidgets[n];"string"!=typeof n&&(this.activeWidgets[o]=n)}}return!0},t.prototype.setDefaultWidget=function(t){return!!this.hasWidget(t)&&(this.defaultWidget=t,!0)},t.prototype.hasWidget=function(t,e){return void 0===e&&(e="activeWidgets"),!(!t||"string"!=typeof t)&&Ot(this[e],t)},t.prototype.hasDefaultWidget=function(t){return this.hasWidget(t,"widgetLibrary")},t.prototype.registerWidget=function(t,e){return!(!t||!e||"string"!=typeof t)&&(this.registeredWidgets[t]=e,this.setActiveWidgets())},t.prototype.unRegisterWidget=function(t){return!!Ot(this.registeredWidgets,t)&&(delete this.registeredWidgets[t],this.setActiveWidgets())},t.prototype.unRegisterAllWidgets=function(t){return void 0===t&&(t=!0),this.registeredWidgets={},t&&(this.frameworkWidgets={}),this.setActiveWidgets()},t.prototype.registerFrameworkWidgets=function(t){return null!==t&&"object"==typeof t||(t={}),this.frameworkWidgets=t,this.setActiveWidgets()},t.prototype.unRegisterFrameworkWidgets=function(){return!!Object.keys(this.frameworkWidgets).length&&(this.frameworkWidgets={},this.setActiveWidgets())},t.prototype.getWidget=function(t,e){return void 0===e&&(e="activeWidgets"),this.hasWidget(t,e)?this[e][t]:this.hasWidget(this.defaultWidget,e)?this[e][this.defaultWidget]:null},t.prototype.getAllWidgets=function(){return{widgetLibrary:this.widgetLibrary,registeredWidgets:this.registeredWidgets,frameworkWidgets:this.frameworkWidgets,activeWidgets:this.activeWidgets}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),Eo=function(){function t(){this.widgets={},this.stylesheets=[],this.scripts=[]}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),To=function(){function t(t,e){var o=this;this.frameworks=t,this.widgetLibrary=e,this.activeFramework=null,this.loadExternalAssets=!1,this.frameworkLibrary={},this.frameworks.forEach(function(t){return o.frameworkLibrary[t.name]=t}),this.defaultFramework=this.frameworks[0].name,this.setFramework(this.defaultFramework)}return t.prototype.setLoadExternalAssets=function(t){void 0===t&&(t=!0),this.loadExternalAssets=!!t},t.prototype.setFramework=function(t,e){return void 0===t&&(t=this.defaultFramework),void 0===e&&(e=this.loadExternalAssets),this.activeFramework="string"==typeof t&&this.hasFramework(t)?this.frameworkLibrary[t]:"object"==typeof t&&Ot(t,"framework")?t:this.frameworkLibrary[this.defaultFramework],this.registerFrameworkWidgets(this.activeFramework)},t.prototype.registerFrameworkWidgets=function(t){return Ot(t,"widgets")?this.widgetLibrary.registerFrameworkWidgets(t.widgets):this.widgetLibrary.unRegisterFrameworkWidgets()},t.prototype.hasFramework=function(t){return Ot(this.frameworkLibrary,t)},t.prototype.getFramework=function(){return this.activeFramework||this.setFramework("default",!0),this.activeFramework.framework},t.prototype.getFrameworkWidgets=function(){return this.activeFramework.widgets||{}},t.prototype.getFrameworkStylesheets=function(t){return void 0===t&&(t=this.loadExternalAssets),t&&this.activeFramework.stylesheets||[]},t.prototype.getFrameworkScripts=function(t){return void 0===t&&(t=this.loadExternalAssets),t&&this.activeFramework.scripts||[]},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Inject,args:[Eo]}]},{type:Ao,decorators:[{type:e.Inject,args:[Ao]}]}]},t}(),Vo={provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return Ro}),multi:!0},Ro=function(){function t(t,o,n,r,i){this.changeDetector=t,this.frameworkLibrary=o,this.widgetLibrary=n,this.jsf=r,this.sanitizer=i,this.formValueSubscription=null,this.formInitialized=!1,this.objectWrap=!1,this.previousInputs={schema:null,layout:null,data:null,options:null,framework:null,widgets:null,form:null,model:null,JSONSchema:null,UISchema:null,formData:null,loadExternalAssets:null,debug:null},this.onChanges=new e.EventEmitter,this.onSubmit=new e.EventEmitter,this.isValid=new e.EventEmitter,this.validationErrors=new e.EventEmitter,this.formSchema=new e.EventEmitter,this.formLayout=new e.EventEmitter,this.dataChange=new e.EventEmitter,this.modelChange=new e.EventEmitter,this.formDataChange=new e.EventEmitter,this.ngModelChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"value",{get:function(){return this.objectWrap?this.jsf.data[1]:this.jsf.data},set:function(t){this.setFormValues(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stylesheets",{get:function(){var t=this.frameworkLibrary.getFrameworkStylesheets(),e=this.sanitizer.bypassSecurityTrustResourceUrl;return t.map(function(t){return e(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scripts",{get:function(){var t=this.frameworkLibrary.getFrameworkScripts(),e=this.sanitizer.bypassSecurityTrustResourceUrl;return t.map(function(t){return e(t)})},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateForm()},t.prototype.ngOnChanges=function(){this.updateForm()},t.prototype.writeValue=function(t){this.setFormValues(t,!1),this.formValuesInput||(this.formValuesInput="ngModel")},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.jsf.formOptions.formDisabled!==!!t&&(this.jsf.formOptions.formDisabled=!!t,this.initializeForm())},t.prototype.updateForm=function(){var t=this;if(!this.formInitialized||!this.formValuesInput||this.language&&this.language!==this.jsf.language)this.initializeForm();else{this.language&&this.language!==this.jsf.language&&this.jsf.setLanguage(this.language);var e=Object.keys(this.previousInputs).filter(function(e){return t.previousInputs[e]!==t[e]}),n=!0;if(1===e.length&&"form"===e[0]&&this.formValuesInput.startsWith("form.")&&(e=Object.keys(this.previousInputs.form||{}).filter(function(e){return!o.isEqual(t.previousInputs.form[e],t.form[e])}).map(function(t){return"form."+t}),n=!1),1===e.length&&e[0]===this.formValuesInput)if(-1===this.formValuesInput.indexOf("."))this.setFormValues(this[this.formValuesInput],n);else{var r=this.formValuesInput.split("."),i=r[0],s=r[1];this.setFormValues(this[i][s],n)}else e.length&&(this.initializeForm(),this.onChange&&this.onChange(this.jsf.formValues),this.onTouched&&this.onTouched(this.jsf.formValues));Object.keys(this.previousInputs).filter(function(e){return t.previousInputs[e]!==t[e]}).forEach(function(e){return t.previousInputs[e]=t[e]})}},t.prototype.setFormValues=function(t,e){if(void 0===e&&(e=!0),t){var o=this.objectWrap?t[1]:t;this.jsf.formGroup?e&&this.jsf.formGroup.reset():(this.jsf.formValues=t,this.activateForm()),this.jsf.formGroup&&this.jsf.formGroup.patchValue(o),this.onChange&&this.onChange(o),this.onTouched&&this.onTouched(o)}else this.jsf.formGroup.reset()},t.prototype.submitForm=function(){var t=this.jsf.validData;this.onSubmit.emit(this.objectWrap?t[1]:t)},t.prototype.initializeForm=function(){if(this.schema||this.layout||this.data||this.form||this.model||this.JSONSchema||this.UISchema||this.formData||this.ngModel||this.jsf.data){if(this.jsf.resetAllValues(),this.initializeOptions(),this.initializeSchema(),this.initializeLayout(),this.initializeData(),this.activateForm(),this.debug||this.jsf.formOptions.debug){this.debugOutput=[].map(function(t){return JSON.stringify(t,null,2)}).join("\n")}this.formInitialized=!0}},t.prototype.initializeOptions=function(){this.language&&this.language!==this.jsf.language&&this.jsf.setLanguage(this.language),this.jsf.setOptions({debug:!!this.debug});var t=this.loadExternalAssets||!1,e=this.framework||"default";if(nt(this.options)&&(this.jsf.setOptions(this.options),t=this.options.loadExternalAssets||t,e=this.options.framework||e),nt(this.form)&&nt(this.form.options)&&(this.jsf.setOptions(this.form.options),t=this.form.options.loadExternalAssets||t,e=this.form.options.framework||e),nt(this.widgets)&&this.jsf.setOptions({widgets:this.widgets}),this.frameworkLibrary.setLoadExternalAssets(t),this.frameworkLibrary.setFramework(e),this.jsf.framework=this.frameworkLibrary.getFramework(),nt(this.jsf.formOptions.widgets))for(var o=0,n=Object.keys(this.jsf.formOptions.widgets);o<n.length;o++){var r=n[o];this.widgetLibrary.registerWidget(r,this.jsf.formOptions.widgets[r])}nt(this.form)&&nt(this.form.tpldata)&&this.jsf.setTpldata(this.form.tpldata)},t.prototype.initializeSchema=function(){nt(this.schema)?(this.jsf.AngularSchemaFormCompatibility=!0,this.jsf.schema=o.cloneDeep(this.schema)):Ot(this.form,"schema")&&nt(this.form.schema)?this.jsf.schema=o.cloneDeep(this.form.schema):nt(this.JSONSchema)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,this.jsf.schema=o.cloneDeep(this.JSONSchema)):Ot(this.form,"JSONSchema")&&nt(this.form.JSONSchema)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,this.jsf.schema=o.cloneDeep(this.form.JSONSchema)):Ot(this.form,"properties")&&nt(this.form.properties)?this.jsf.schema=o.cloneDeep(this.form):nt(this.form),Q(this.jsf.schema)||(yt("object",this.jsf.schema.type)&&(this.jsf.schema.type="object"),Ot(this.jsf.schema,"type")&&"object"!==this.jsf.schema.type?(this.jsf.schema={type:"object",properties:{1:this.jsf.schema}},this.objectWrap=!0):Ot(this.jsf.schema,"type")||(nt(this.jsf.schema.properties)||nt(this.jsf.schema.patternProperties)||nt(this.jsf.schema.additionalProperties)?this.jsf.schema.type="object":(this.jsf.JsonFormCompatibility=!0,this.jsf.schema={type:"object",properties:this.jsf.schema})),this.jsf.schema=be(this.jsf.schema),this.jsf.compileAjvSchema(),this.jsf.schema=fe(this.jsf.schema,this.jsf.schemaRefLibrary,this.jsf.schemaRecursiveRefMap,this.jsf.dataRecursiveRefMap,this.jsf.arrayMap),Ot(this.jsf.schemaRefLibrary,"")&&(this.jsf.hasRootReference=!0))},t.prototype.initializeData=function(){K(this.data)?(this.jsf.formValues=o.cloneDeep(this.data),this.formValuesInput="data"):K(this.model)?(this.jsf.AngularSchemaFormCompatibility=!0,this.jsf.formValues=o.cloneDeep(this.model),this.formValuesInput="model"):K(this.ngModel)?(this.jsf.AngularSchemaFormCompatibility=!0,this.jsf.formValues=o.cloneDeep(this.ngModel),this.formValuesInput="ngModel"):nt(this.form)&&K(this.form.value)?(this.jsf.JsonFormCompatibility=!0,this.jsf.formValues=o.cloneDeep(this.form.value),this.formValuesInput="form.value"):nt(this.form)&&K(this.form.data)?(this.jsf.formValues=o.cloneDeep(this.form.data),this.formValuesInput="form.data"):K(this.formData)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,this.formValuesInput="formData"):Ot(this.form,"formData")&&K(this.form.formData)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,this.jsf.formValues=o.cloneDeep(this.form.formData),this.formValuesInput="form.formData"):this.formValuesInput=null},t.prototype.initializeLayout=function(){var t=this,e=function(t){return(nt(t)||rt(t))&&It(t,function(t,e){Ot(t,"options")&&nt(t.options)&&(t.titleMap=t.options,delete t.options)},"top-down"),t};rt(this.layout)?this.jsf.layout=o.cloneDeep(this.layout):rt(this.form)?(this.jsf.AngularSchemaFormCompatibility=!0,this.jsf.layout=o.cloneDeep(this.form)):this.form&&rt(this.form.form)?(this.jsf.JsonFormCompatibility=!0,this.jsf.layout=e(o.cloneDeep(this.form.form))):this.form&&rt(this.form.layout)?this.jsf.layout=o.cloneDeep(this.form.layout):this.jsf.layout=["*"];var n=null;nt(this.UISchema)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,n=o.cloneDeep(this.UISchema)):Ot(this.form,"UISchema")?(this.jsf.ReactJsonSchemaFormCompatibility=!0,n=o.cloneDeep(this.form.UISchema)):Ot(this.form,"uiSchema")?(this.jsf.ReactJsonSchemaFormCompatibility=!0,n=o.cloneDeep(this.form.uiSchema)):Ot(this.form,"customFormItems")&&(this.jsf.JsonFormCompatibility=!0,n=e(o.cloneDeep(this.form.customFormItems))),n&&_t.forEachDeep(n,function(e,o){var n=o.replace(/\//g,"/properties/").replace(/\/properties\/items\/properties\//g,"/items/properties/").replace(/\/properties\/titleMap\/properties\//g,"/titleMap/properties/");if(K(e)&&K(o)){var r=_t.toKey(o),i=(_t.parse(n)||[]).slice(0,-2),s=void 0;"ui:order"===r.toLowerCase()?s=i.concat(["ui:order"]):("ui:"===r.slice(0,3).toLowerCase()&&(r=r.slice(3)),s=i.concat(["x-schema-form",r])),_t.has(t.jsf.schema,i)&&!_t.has(t.jsf.schema,s)&&_t.set(t.jsf.schema,s,e)}})},t.prototype.activateForm=function(){var t=this;if(Q(this.jsf.schema)&&(Q(this.jsf.formValues)||this.jsf.buildSchemaFromData()),Q(this.jsf.schema)||(this.jsf.compileAjvSchema(),this.jsf.buildLayout(this.widgetLibrary),this.jsf.buildFormGroupTemplate(this.jsf.formValues),this.jsf.buildFormGroup()),this.jsf.formGroup){Q(this.jsf.formValues)||!0===this.jsf.formOptions.setSchemaDefaults||!0===this.jsf.formOptions.setLayoutDefaults||this.setFormValues(this.jsf.formValues),this.jsf.dataChanges.subscribe(function(e){t.onChanges.emit(t.objectWrap?e[1]:e),t.formValuesInput&&-1===t.formValuesInput.indexOf(".")&&t[t.formValuesInput+"Change"].emit(t.objectWrap?e[1]:e)}),this.jsf.formGroup.statusChanges.subscribe(function(){return t.changeDetector.markForCheck()}),this.jsf.isValidChanges.subscribe(function(e){return t.isValid.emit(e)}),this.jsf.validationErrorChanges.subscribe(function(e){return t.validationErrors.emit(e)}),this.formSchema.emit(this.jsf.schema),this.formLayout.emit(this.jsf.layout),this.onChanges.emit(this.objectWrap?this.jsf.data[1]:this.jsf.data);var e=_t.get(this.jsf,"/formOptions/validateOnRender");if(e){var o=function(t){(!0===e||K(t.value))&&t.markAsTouched(),Object.keys(t.controls||{}).forEach(function(e){return o(t.controls[e])})};o(this.jsf.formGroup),this.isValid.emit(this.jsf.isValid),this.validationErrors.emit(this.jsf.ajvErrors)}}},t.decorators=[{type:e.Component,args:[{selector:"json-schema-form",template:'\n    <div *ngFor="let stylesheet of stylesheets">\n      <link rel="stylesheet" [href]="stylesheet">\n    </div>\n    <div *ngFor="let script of scripts">\n      <script type="text/javascript" [src]="script"><\/script>\n    </div>\n    <form class="json-schema-form" (ngSubmit)="submitForm()">\n      <root-widget [layout]="jsf?.layout"></root-widget>\n    </form>\n    <div *ngIf="debug || jsf?.formOptions?.debug">\n      Debug output: <pre>{{debugOutput}}</pre>\n    </div>',changeDetection:e.ChangeDetectionStrategy.OnPush,providers:[Je,Vo]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:To},{type:Ao},{type:Je},{type:i.DomSanitizer}]},t.propDecorators={schema:[{type:e.Input}],layout:[{type:e.Input}],data:[{type:e.Input}],options:[{type:e.Input}],framework:[{type:e.Input}],widgets:[{type:e.Input}],form:[{type:e.Input}],model:[{type:e.Input}],JSONSchema:[{type:e.Input}],UISchema:[{type:e.Input}],formData:[{type:e.Input}],ngModel:[{type:e.Input}],language:[{type:e.Input}],loadExternalAssets:[{type:e.Input}],debug:[{type:e.Input}],value:[{type:e.Input}],onChanges:[{type:e.Output}],onSubmit:[{type:e.Output}],isValid:[{type:e.Output}],validationErrors:[{type:e.Output}],formSchema:[{type:e.Output}],formLayout:[{type:e.Output}],dataChange:[{type:e.Output}],modelChange:[{type:e.Output}],formDataChange:[{type:e.Output}],ngModelChange:[{type:e.Output}]},t}(),qo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ho=function(t){function o(e){return t.call(this,e)||this}return qo(o,t),o.decorators=[{type:e.Component,args:[{selector:"hidden-widget",template:'\n    <input *ngIf="boundControl"\n      [formControl]="formControl"\n      [id]="\'control\' + layoutNode?._id"\n      [name]="controlName"\n      type="hidden">\n    <input *ngIf="!boundControl"\n      [disabled]="controlDisabled"\n      [name]="controlName"\n      [id]="\'control\' + layoutNode?._id"\n      type="hidden"\n      [value]="controlValue">'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),$o=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zo=function(t){function o(e){return t.call(this,e)||this}return $o(o,t),o.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{}},o.decorators=[{type:e.Component,args:[{selector:"tab-widget",template:'\n    <div [class]="options?.htmlClass || \'\'">\n      <root-widget\n        [dataIndex]="dataIndex"\n        [layoutIndex]="layoutIndex"\n        [layout]="layoutNode.items"></root-widget>\n    </div>'}]}],o.ctorParameters=function(){return[{type:Je}]},o}(Ge),Wo=[Ye,Ke,Xe,eo,no,io,Ho,ao,uo,co,mo,yo,bo,xo,wo,Fo,No,_o,zo,Lo,Co,So],Jo=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Je]}},t.decorators=[{type:e.NgModule,args:[{imports:[s.CommonModule,n.FormsModule,n.ReactiveFormsModule],declarations:Wo.concat([Be]),exports:Wo.concat([Be]),entryComponents:Wo.slice(),providers:[Je]}]}],t.ctorParameters=function(){return[]},t}(),Bo=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"no-framework",template:'\n    <select-widget-widget\n      [dataIndex]="dataIndex"\n      [layoutIndex]="layoutIndex"\n      [layoutNode]="layoutNode"></select-widget-widget>'}]}],t.ctorParameters=function(){return[]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),Go=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Uo=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="no-framework",e.framework=Bo,e}return Go(o,t),o.decorators=[{type:e.Injectable}],o.ctorParameters=function(){return[]},o}(Eo),Yo=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:Eo,useClass:Uo,multi:!0}]}},t.decorators=[{type:e.NgModule,args:[{imports:[s.CommonModule,Jo],declarations:[Bo],exports:[Bo],entryComponents:[Bo]}]}],t.ctorParameters=function(){return[]},t}(),Zo=function(){function t(){}return t.forRoot=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=e.length?e.map(function(t){return t.forRoot().providers[0]}):[{provide:Eo,useClass:Uo,multi:!0}];return{ngModule:t,providers:[Je,To,Ao].concat(n)}},t.decorators=[{type:e.NgModule,args:[{imports:[s.CommonModule,n.FormsModule,n.ReactiveFormsModule,Jo,Yo],declarations:[Ro],exports:[Ro,Jo]}]}],t.ctorParameters=function(){return[]},t}(),Ko=function(){function t(t){this.jsf=t,this.isFlexItem=!1}return t.prototype.removeItem=function(t){this.jsf.removeItem(t)},t.prototype.getFlexAttribute=function(t,e){var o=["flex-grow","flex-shrink","flex-basis"].indexOf(e);return((t.options||{}).flex||"").split(/\s+/)[o]||(t.options||{})[e]||["1","1","auto"][o]},t.prototype.showWidget=function(t){return this.jsf.evaluateCondition(t,this.dataIndex)},t.decorators=[{type:e.Component,args:[{selector:"flex-layout-root-widget",template:'\n    <div *ngFor="let layoutNode of layout; let i = index"\n      [class.form-flex-item]="isFlexItem"\n      [style.flex-grow]="getFlexAttribute(layoutNode, \'flex-grow\')"\n      [style.flex-shrink]="getFlexAttribute(layoutNode, \'flex-shrink\')"\n      [style.flex-basis]="getFlexAttribute(layoutNode, \'flex-basis\')"\n      [style.align-self]="(layoutNode?.options || {})[\'align-self\']"\n      [style.order]="layoutNode?.options?.order"\n      [fxFlex]="layoutNode?.options?.fxFlex"\n      [fxFlexOrder]="layoutNode?.options?.fxFlexOrder"\n      [fxFlexOffset]="layoutNode?.options?.fxFlexOffset"\n      [fxFlexAlign]="layoutNode?.options?.fxFlexAlign">\n      <select-framework-widget *ngIf="showWidget(layoutNode)"\n        [dataIndex]="layoutNode?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])"\n        [layoutIndex]="(layoutIndex || []).concat(i)"\n        [layoutNode]="layoutNode"></select-framework-widget>\n    <div>',changeDetection:e.ChangeDetectionStrategy.Default}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={dataIndex:[{type:e.Input}],layoutIndex:[{type:e.Input}],layout:[{type:e.Input}],isFlexItem:[{type:e.Input}]},t}(),Qo=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.expanded=!0,this.containerType="div"}return Object.defineProperty(t.prototype,"sectionTitle",{get:function(){return this.options.notitle?null:this.jsf.setItemTitle(this)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){switch(this.jsf.initializeControl(this),this.options=this.layoutNode.options||{},this.expanded="boolean"==typeof this.options.expanded?this.options.expanded:!this.options.expandable,this.layoutNode.type){case"section":case"array":case"fieldset":case"advancedfieldset":case"authfieldset":case"optionfieldset":case"selectfieldset":this.containerType="fieldset";break;case"card":this.containerType="card";break;case"expansion-panel":this.containerType="expansion-panel";break;default:this.containerType="div"}},t.prototype.toggleExpanded=function(){this.options.expandable&&(this.expanded=!this.expanded)},t.prototype.getFlexAttribute=function(t){var e="flex"===this.layoutNode.type||!!this.options.displayFlex||"flex"===this.options.display;switch(t){case"is-flex":return e;case"display":return e?"flex":"initial";case"flex-direction":case"flex-wrap":var o=["flex-direction","flex-wrap"].indexOf(t);return(this.options["flex-flow"]||"").split(/\s+/)[o]||this.options[t]||["column","nowrap"][o];case"justify-content":case"align-items":case"align-content":return this.options[t]}},t.decorators=[{type:e.Component,args:[{selector:"flex-layout-section-widget",template:'\n    <div *ngIf="containerType === \'div\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded">\n      <label *ngIf="sectionTitle"\n        [class]="\'legend \' + (options?.labelHtmlClass || \'\')"\n        [innerHTML]="sectionTitle"\n        (click)="toggleExpanded()"></label>\n      <flex-layout-root-widget *ngIf="expanded"\n        [layout]="layoutNode.items"\n        [dataIndex]="dataIndex"\n        [layoutIndex]="layoutIndex"\n        [isFlexItem]="getFlexAttribute(\'is-flex\')"\n        [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n        [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n        [style.display]="getFlexAttribute(\'display\')"\n        [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n        [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n        [style.justify-content]="getFlexAttribute(\'justify-content\')"\n        [style.align-items]="getFlexAttribute(\'align-items\')"\n        [style.align-content]="getFlexAttribute(\'align-content\')"\n        [fxLayout]="options?.fxLayout"\n        [fxLayoutWrap]="options?.fxLayoutWrap"\n        [fxLayoutGap]="options?.fxLayoutGap"\n        [fxLayoutAlign]="options?.fxLayoutAlign"\n        [attr.fxFlexFill]="options?.fxLayoutAlign"></flex-layout-root-widget>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </div>\n\n    <fieldset *ngIf="containerType === \'fieldset\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded"\n      [disabled]="options?.readonly">\n      <legend *ngIf="sectionTitle"\n        [class]="\'legend \' + (options?.labelHtmlClass || \'\')"\n        [innerHTML]="sectionTitle"\n        (click)="toggleExpanded()"></legend>\n      <flex-layout-root-widget *ngIf="expanded"\n        [layout]="layoutNode.items"\n        [dataIndex]="dataIndex"\n        [layoutIndex]="layoutIndex"\n        [isFlexItem]="getFlexAttribute(\'is-flex\')"\n        [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n        [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n        [style.display]="getFlexAttribute(\'display\')"\n        [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n        [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n        [style.justify-content]="getFlexAttribute(\'justify-content\')"\n        [style.align-items]="getFlexAttribute(\'align-items\')"\n        [style.align-content]="getFlexAttribute(\'align-content\')"\n        [fxLayout]="options?.fxLayout"\n        [fxLayoutWrap]="options?.fxLayoutWrap"\n        [fxLayoutGap]="options?.fxLayoutGap"\n        [fxLayoutAlign]="options?.fxLayoutAlign"\n        [attr.fxFlexFill]="options?.fxLayoutAlign"></flex-layout-root-widget>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </fieldset>\n\n    <mat-card *ngIf="containerType === \'card\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded">\n      <mat-card-header *ngIf="sectionTitle">\n        <legend\n          [class]="\'legend \' + (options?.labelHtmlClass || \'\')"\n          [innerHTML]="sectionTitle"\n          (click)="toggleExpanded()"></legend>\n      </mat-card-header>\n      <mat-card-content *ngIf="expanded">\n        <fieldset [disabled]="options?.readonly">\n          <flex-layout-root-widget *ngIf="expanded"\n            [layout]="layoutNode.items"\n            [dataIndex]="dataIndex"\n            [layoutIndex]="layoutIndex"\n            [isFlexItem]="getFlexAttribute(\'is-flex\')"\n            [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n            [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n            [style.display]="getFlexAttribute(\'display\')"\n            [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n            [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n            [style.justify-content]="getFlexAttribute(\'justify-content\')"\n            [style.align-items]="getFlexAttribute(\'align-items\')"\n            [style.align-content]="getFlexAttribute(\'align-content\')"\n            [fxLayout]="options?.fxLayout"\n            [fxLayoutWrap]="options?.fxLayoutWrap"\n            [fxLayoutGap]="options?.fxLayoutGap"\n            [fxLayoutAlign]="options?.fxLayoutAlign"\n            [attr.fxFlexFill]="options?.fxLayoutAlign"></flex-layout-root-widget>\n          </fieldset>\n      </mat-card-content>\n      <mat-card-footer>\n        <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n          [innerHTML]="options?.errorMessage"></mat-error>\n      </mat-card-footer>\n    </mat-card>\n\n    <mat-expansion-panel *ngIf="containerType === \'expansion-panel\'"\n      [expanded]="expanded"\n      [hideToggle]="!options?.expandable">\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <legend *ngIf="sectionTitle"\n            [class]="options?.labelHtmlClass"\n            [innerHTML]="sectionTitle"\n            (click)="toggleExpanded()"></legend>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n      <fieldset [disabled]="options?.readonly">\n        <flex-layout-root-widget *ngIf="expanded"\n          [layout]="layoutNode.items"\n          [dataIndex]="dataIndex"\n          [layoutIndex]="layoutIndex"\n          [isFlexItem]="getFlexAttribute(\'is-flex\')"\n          [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n          [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n          [style.display]="getFlexAttribute(\'display\')"\n          [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n          [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n          [style.justify-content]="getFlexAttribute(\'justify-content\')"\n          [style.align-items]="getFlexAttribute(\'align-items\')"\n          [style.align-content]="getFlexAttribute(\'align-content\')"\n          [fxLayout]="options?.fxLayout"\n          [fxLayoutWrap]="options?.fxLayoutWrap"\n          [fxLayoutGap]="options?.fxLayoutGap"\n          [fxLayoutAlign]="options?.fxLayoutAlign"\n          [attr.fxFlexFill]="options?.fxLayoutAlign"></flex-layout-root-widget>\n      </fieldset>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </mat-expansion-panel>',styles:["\n    fieldset { border: 0; margin: 0; padding: 0; }\n    .legend { font-weight: bold; }\n    .expandable > .legend:before { content: ''; padding-right: .3em; }\n    .expanded > .legend:before { content: ''; padding-right: .2em; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),Xo=function(){function t(t){this.jsf=t}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{}},Object.defineProperty(t.prototype,"showAddButton",{get:function(){return!this.layoutNode.arrayItem||this.layoutIndex[this.layoutIndex.length-1]<this.options.maxItems},enumerable:!0,configurable:!0}),t.prototype.addItem=function(t){t.preventDefault(),this.jsf.addItem(this)},Object.defineProperty(t.prototype,"buttonText",{get:function(){var t={dataIndex:this.dataIndex.slice(0,-1),layoutIndex:this.layoutIndex.slice(0,-1),layoutNode:this.jsf.getParentNode(this)};return t.layoutNode.add||this.jsf.setArrayItemTitle(t,this.layoutNode,this.itemCount)},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"material-add-reference-widget",template:'\n    <section [class]="options?.htmlClass || \'\'" align="end">\n      <button mat-raised-button *ngIf="showAddButton"\n        [color]="options?.color || \'accent\'"\n        [disabled]="options?.readonly"\n        (click)="addItem($event)">\n        <span *ngIf="options?.icon" [class]="options?.icon"></span>\n        <span *ngIf="options?.title" [innerHTML]="buttonText"></span>\n      </button>\n    </section>',changeDetection:e.ChangeDetectionStrategy.Default}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),tn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:e.Component,args:[{selector:"material-one-of-widget",template:""}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),en=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){var t=this;this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),Ot(this.options,"disabled")?this.controlDisabled=this.options.disabled:this.jsf.formOptions.disableInvalidSubmit&&(this.controlDisabled=!this.jsf.isValid,this.jsf.isValidChanges.subscribe(function(e){return t.controlDisabled=!e}))},t.prototype.updateValue=function(t){"function"==typeof this.options.onClick?this.options.onClick(t):this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:e.Component,args:[{selector:"material-button-widget",template:'\n    <div class="button-row" [class]="options?.htmlClass || \'\'">\n      <button mat-raised-button\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [color]="options?.color || \'primary\'"\n        [disabled]="controlDisabled || options?.readonly"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (click)="updateValue($event)">\n        <mat-icon *ngIf="options?.icon" class="mat-24">{{options?.icon}}</mat-icon>\n        <span *ngIf="options?.title" [innerHTML]="options?.title"></span>\n      </button>\n    </div>',styles:[" button { margin-top: 10px; } "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),on=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.radiosList=[],this.vertical=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.radiosList=Pe(this.options.titleMap||this.options.enumNames,this.options.enum,!0),this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t)},t.decorators=[{type:e.Component,args:[{selector:"material-button-group-widget",template:'\n    <div>\n      <div *ngIf="options?.title">\n        <label\n          [attr.for]="\'control\' + layoutNode?._id"\n          [class]="options?.labelHtmlClass || \'\'"\n          [style.display]="options?.notitle ? \'none\' : \'\'"\n          [innerHTML]="options?.title"></label>\n      </div>\n      <mat-button-toggle-group\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [disabled]="controlDisabled || options?.readonly"\n        [name]="controlName"\n        [value]="controlValue"\n        [vertical]="!!options.vertical">\n        <mat-button-toggle *ngFor="let radioItem of radiosList"\n          [id]="\'control\' + layoutNode?._id + \'/\' + radioItem?.name"\n          [value]="radioItem?.value"\n          (click)="updateValue(radioItem?.value)">\n          <span [innerHTML]="radioItem?.name"></span>\n        </mat-button-toggle>\n      </mat-button-toggle-group>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </div>',styles:[" mat-error { font-size: 75%; } "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),nn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.trueValue=!0,this.falseValue=!1,this.showSlideToggle=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this,!this.options.readonly),null!==this.controlValue&&void 0!==this.controlValue||(this.controlValue=!1,this.jsf.updateValue(this,this.falseValue)),"slide-toggle"!==this.layoutNode.type&&"slide-toggle"!==this.layoutNode.format||(this.showSlideToggle=!0)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t.checked?this.trueValue:this.falseValue)},Object.defineProperty(t.prototype,"isChecked",{get:function(){return this.jsf.getFormControlValue(this)===this.trueValue},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"material-checkbox-widget",template:'\n    <mat-checkbox *ngIf="boundControl && !showSlideToggle"\n      [formControl]="formControl"\n      align="left"\n      [color]="options?.color || \'primary\'"\n      [id]="\'control\' + layoutNode?._id"\n      labelPosition="after"\n      [name]="controlName"\n      (blur)="options.showErrors = true">\n      <span *ngIf="options?.title"\n        class="checkbox-name"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></span>\n    </mat-checkbox>\n    <mat-checkbox *ngIf="!boundControl && !showSlideToggle"\n      align="left"\n      [color]="options?.color || \'primary\'"\n      [disabled]="controlDisabled || options?.readonly"\n      [id]="\'control\' + layoutNode?._id"\n      labelPosition="after"\n      [name]="controlName"\n      [checked]="isChecked"\n      (blur)="options.showErrors = true"\n      (change)="updateValue($event)">\n      <span *ngIf="options?.title"\n        class="checkbox-name"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></span>\n    </mat-checkbox>\n    <mat-slide-toggle *ngIf="boundControl && showSlideToggle"\n      [formControl]="formControl"\n      align="left"\n      [color]="options?.color || \'primary\'"\n      [id]="\'control\' + layoutNode?._id"\n      labelPosition="after"\n      [name]="controlName"\n      (blur)="options.showErrors = true">\n      <span *ngIf="options?.title"\n        class="checkbox-name"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></span>\n    </mat-slide-toggle>\n    <mat-slide-toggle *ngIf="!boundControl && showSlideToggle"\n      align="left"\n      [color]="options?.color || \'primary\'"\n      [disabled]="controlDisabled || options?.readonly"\n      [id]="\'control\' + layoutNode?._id"\n      labelPosition="after"\n      [name]="controlName"\n      [checked]="isChecked"\n      (blur)="options.showErrors = true"\n      (change)="updateValue($event)">\n      <span *ngIf="options?.title"\n        class="checkbox-name"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></span>\n    </mat-slide-toggle>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    .checkbox-name { white-space: nowrap; }\n    mat-error { font-size: 75%; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),rn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.horizontalList=!1,this.checkboxList=[]}return t.prototype.ngOnInit=function(){if(this.options=this.layoutNode.options||{},this.horizontalList="checkboxes-inline"===this.layoutNode.type||"checkboxbuttons"===this.layoutNode.type,this.jsf.initializeControl(this),this.checkboxList=Pe(this.options.titleMap||this.options.enumNames,this.options.enum,!0),this.boundControl)for(var t=this.jsf.getFormControl(this),e=0,o=this.checkboxList;e<o.length;e++){var n=o[e];n.checked=t.value.includes(n.value)}},Object.defineProperty(t.prototype,"allChecked",{get:function(){return this.checkboxList.filter(function(t){return t.checked}).length===this.checkboxList.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"someChecked",{get:function(){var t=this.checkboxList.filter(function(t){return t.checked}).length;return t>0&&t<this.checkboxList.length},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.options.showErrors=!0,this.boundControl&&this.jsf.updateValue(this,this.checkboxList.filter(function(t){return t.checked}).map(function(t){return t.value}))},t.prototype.updateAllValues=function(t){this.options.showErrors=!0,this.checkboxList.forEach(function(e){return e.checked=t.checked}),this.updateValue()},t.decorators=[{type:e.Component,args:[{selector:"material-checkboxes-widget",template:'\n    <div>\n      <mat-checkbox type="checkbox"\n        [checked]="allChecked"\n        [color]="options?.color || \'primary\'"\n        [disabled]="controlDisabled || options?.readonly"\n        [indeterminate]="someChecked"\n        [name]="options?.name"\n        (blur)="options.showErrors = true"\n        (change)="updateAllValues($event)">\n        <span class="checkbox-name" [innerHTML]="options?.name"></span>\n      </mat-checkbox>\n      <label *ngIf="options?.title"\n        class="title"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <ul class="checkbox-list" [class.horizontal-list]="horizontalList">\n        <li *ngFor="let checkboxItem of checkboxList"\n          [class]="options?.htmlClass || \'\'">\n          <mat-checkbox type="checkbox"\n            [(ngModel)]="checkboxItem.checked"\n            [color]="options?.color || \'primary\'"\n            [disabled]="controlDisabled || options?.readonly"\n            [name]="checkboxItem?.name"\n            (blur)="options.showErrors = true"\n            (change)="updateValue()">\n            <span class="checkbox-name" [innerHTML]="checkboxItem?.name"></span>\n          </mat-checkbox>\n        </li>\n      </ul>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </div>',styles:["\n    .title { font-weight: bold; }\n    .checkbox-list { list-style-type: none; }\n    .horizontal-list > li { display: inline-block; margin-right: 10px; zoom: 1; }\n    .checkbox-name { white-space: nowrap; }\n    mat-error { font-size: 75%; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),sn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:e.Component,args:[{selector:"material-chip-list-widget",template:""}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),an=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.autoCompleteList=[]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this,!this.options.readonly),this.setControlDate(this.controlValue),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.ngOnChanges=function(){this.setControlDate(this.controlValue)},t.prototype.setControlDate=function(t){this.dateValue=Me(t)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,_e(t,this.options))},t.decorators=[{type:e.Component,args:[{selector:"material-datepicker-widget",template:'\n    <mat-form-field [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <input matInput *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [id]="\'control\' + layoutNode?._id"\n        [max]="options?.maximum"\n        [matDatepicker]="picker"\n        [min]="options?.minimum"\n        [name]="controlName"\n        [placeholder]="options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        (blur)="options.showErrors = true">\n      <input matInput *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [disabled]="controlDisabled || options?.readonly"\n        [id]="\'control\' + layoutNode?._id"\n        [max]="options?.maximum"\n        [matDatepicker]="picker"\n        [min]="options?.minimum"\n        [name]="controlName"\n        [placeholder]="options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [value]="dateValue"\n        (blur)="options.showErrors = true"\n        (change)="updateValue($event)"\n        (input)="updateValue($event)">\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\n    </mat-form-field>\n    <mat-datepicker #picker\n      (selectedChanged)="updateValue($event)"></mat-datepicker>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),ln=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:e.Component,args:[{selector:"material-file-widget",template:""}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),un=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.autoCompleteList=[]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:e.Component,args:[{selector:"material-input-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatPlaceholder]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <input matInput *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [type]="layoutNode?.type"\n        (blur)="options.showErrors = true">\n      <input matInput *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (input)="updateValue($event)"\n        (blur)="options.showErrors = true">\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n      <mat-autocomplete *ngIf="options?.typeahead?.source">\n        <mat-option *ngFor="let word of options?.typeahead?.source"\n          [value]="word">{{word}}</mat-option>\n      </mat-autocomplete>\n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),pn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.allowNegative=!0,this.allowDecimal=!0,this.allowExponents=!1,this.lastValidNumber=""}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),"integer"===this.layoutNode.dataType&&(this.allowDecimal=!1),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:e.Component,args:[{selector:"material-number-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatPlaceholder]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <input matInput *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.max]="options?.maximum"\n        [attr.min]="options?.minimum"\n        [attr.step]="options?.multipleOf || options?.step || \'any\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [type]="\'number\'"\n        (blur)="options.showErrors = true">\n      <input matInput *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.max]="options?.maximum"\n        [attr.min]="options?.minimum"\n        [attr.step]="options?.multipleOf || options?.step || \'any\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [type]="\'number\'"\n        [value]="controlValue"\n        (input)="updateValue($event)"\n        (blur)="options.showErrors = true">\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="layoutNode?.type === \'range\'" align="start"\n        [innerHTML]="controlValue"></mat-hint>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),cn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.flexDirection="column",this.radiosList=[]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},"radios-inline"===this.layoutNode.type&&(this.flexDirection="row"),this.radiosList=Pe(this.options.titleMap||this.options.enumNames,this.options.enum,!0),this.jsf.initializeControl(this,!this.options.readonly)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t)},t.decorators=[{type:e.Component,args:[{selector:"material-radios-widget",template:'\n    <div>\n      <div *ngIf="options?.title">\n        <label\n          [attr.for]="\'control\' + layoutNode?._id"\n          [class]="options?.labelHtmlClass || \'\'"\n          [style.display]="options?.notitle ? \'none\' : \'\'"\n          [innerHTML]="options?.title"></label>\n      </div>\n      <mat-radio-group *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [style.flex-direction]="flexDirection"\n        [name]="controlName"\n        (blur)="options.showErrors = true">\n        <mat-radio-button *ngFor="let radioItem of radiosList"\n          [id]="\'control\' + layoutNode?._id + \'/\' + radioItem?.name"\n          [value]="radioItem?.value">\n          <span [innerHTML]="radioItem?.name"></span>\n        </mat-radio-button>\n      </mat-radio-group>\n      <mat-radio-group *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [style.flex-direction]="flexDirection"\n        [disabled]="controlDisabled || options?.readonly"\n        [name]="controlName"\n        [value]="controlValue">\n        <mat-radio-button *ngFor="let radioItem of radiosList"\n          [id]="\'control\' + layoutNode?._id + \'/\' + radioItem?.name"\n          [value]="radioItem?.value"\n          (click)="updateValue(radioItem?.value)">\n          <span [innerHTML]="radioItem?.name"></span>\n        </mat-radio-button>\n      </mat-radio-group>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </div>',styles:["\n    mat-radio-group { display: inline-flex; }\n    mat-radio-button { margin: 2px; }\n    mat-error { font-size: 75%; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),dn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.selectList=[],this.isArray=rt}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.selectList=Pe(this.options.titleMap||this.options.enumNames,this.options.enum,!!this.options.required,!!this.options.flatList),this.jsf.initializeControl(this,!this.options.readonly),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t.value)},t.decorators=[{type:e.Component,args:[{selector:"material-select-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatPlaceholder]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <mat-select *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.name]="controlName"\n        [id]="\'control\' + layoutNode?._id"\n        [multiple]="options?.multiple"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        (blur)="options.showErrors = true">\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <mat-option *ngIf="!isArray(selectItem?.items)"\n            [value]="selectItem?.value">\n            <span [innerHTML]="selectItem?.name"></span>\n          </mat-option>\n          <mat-optgroup *ngIf="isArray(selectItem?.items)"\n            [label]="selectItem?.group">\n            <mat-option *ngFor="let subItem of selectItem.items"\n              [value]="subItem?.value">\n              <span [innerHTML]="subItem?.name"></span>\n            </mat-option>\n          </mat-optgroup>\n        </ng-template>\n      </mat-select>\n      <mat-select *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.name]="controlName"\n        [disabled]="controlDisabled || options?.readonly"\n        [id]="\'control\' + layoutNode?._id"\n        [multiple]="options?.multiple"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [value]="controlValue"\n        (blur)="options.showErrors = true"\n        (change)="updateValue($event)">\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <mat-option *ngIf="!isArray(selectItem?.items)"\n            [attr.selected]="selectItem?.value === controlValue"\n            [value]="selectItem?.value">\n            <span [innerHTML]="selectItem?.name"></span>\n          </mat-option>\n          <mat-optgroup *ngIf="isArray(selectItem?.items)"\n            [label]="selectItem?.group">\n            <mat-option *ngFor="let subItem of selectItem.items"\n              [attr.selected]="subItem?.value === controlValue"\n              [value]="subItem?.value">\n              <span [innerHTML]="subItem?.name"></span>\n            </mat-option>\n          </mat-optgroup>\n        </ng-template>\n      </mat-select>\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),fn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.allowNegative=!0,this.allowDecimal=!0,this.allowExponents=!1,this.lastValidNumber=""}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this,!this.options.readonly)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t.value)},t.decorators=[{type:e.Component,args:[{selector:"material-slider-widget",template:'\n    <mat-slider thumbLabel *ngIf="boundControl"\n      [formControl]="formControl"\n      [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n      [id]="\'control\' + layoutNode?._id"\n      [max]="options?.maximum"\n      [min]="options?.minimum"\n      [step]="options?.multipleOf || options?.step || \'any\'"\n      [style.width]="\'100%\'"\n      (blur)="options.showErrors = true"></mat-slider>\n    <mat-slider thumbLabel *ngIf="!boundControl"\n      [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n      [disabled]="controlDisabled || options?.readonly"\n      [id]="\'control\' + layoutNode?._id"\n      [max]="options?.maximum"\n      [min]="options?.minimum"\n      [step]="options?.multipleOf || options?.step || \'any\'"\n      [style.width]="\'100%\'"\n      [value]="controlValue"\n      (blur)="options.showErrors = true"\n      (change)="updateValue($event)"></mat-slider>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:[" mat-error { font-size: 75%; } "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),mn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:e.Component,args:[{selector:"material-stepper-widget",template:""}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),hn=function(){function t(t){this.jsf=t,this.selectedItem=0,this.showAddTab=!0}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.itemCount=this.layoutNode.items.length-1,this.updateControl()},t.prototype.select=function(t){"$ref"===this.layoutNode.items[t].type&&(this.jsf.addItem({layoutNode:this.layoutNode.items[t],layoutIndex:this.layoutIndex.concat(t),dataIndex:this.dataIndex.concat(t)}),this.updateControl()),this.selectedItem=t},t.prototype.updateControl=function(){this.itemCount=this.layoutNode.items.length-1;var t=this.layoutNode.items[this.layoutNode.items.length-1];this.showAddTab="$ref"===t.type&&this.itemCount<(t.options.maxItems||1e3)},t.prototype.setTabTitle=function(t,e){return this.jsf.setArrayItemTitle(this,t,e)},t.decorators=[{type:e.Component,args:[{selector:"material-tabs-widget",template:'\n    <nav mat-tab-nav-bar\n      [attr.aria-label]="options?.label || options?.title || \'\'"\n      [style.width]="\'100%\'">\n        <a mat-tab-link *ngFor="let item of layoutNode?.items; let i = index"\n          [active]="selectedItem === i"\n          (click)="select(i)">\n          <span *ngIf="showAddTab || item.type !== \'$ref\'"\n            [innerHTML]="setTabTitle(item, i)"></span>\n        </a>\n    </nav>\n    <div *ngFor="let layoutItem of layoutNode?.items; let i = index"\n      [class]="options?.htmlClass || \'\'">\n      <select-framework-widget *ngIf="selectedItem === i"\n        [class]="(options?.fieldHtmlClass || \'\') + \' \' + (options?.activeClass || \'\') + \' \' + (options?.style?.selected || \'\')"\n        [dataIndex]="layoutNode?.dataType === \'array\' ? (dataIndex || []).concat(i) : dataIndex"\n        [layoutIndex]="(layoutIndex || []).concat(i)"\n        [layoutNode]="layoutItem"></select-framework-widget>\n    </div>',styles:[" a { cursor: pointer; } "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),yn=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:e.Component,args:[{selector:"material-textarea-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatPlaceholder]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <textarea matInput *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [required]="options?.required"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [style.width]="\'100%\'"\n        (blur)="options.showErrors = true"></textarea>\n      <textarea matInput *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [required]="options?.required"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [style.width]="\'100%\'"\n        [value]="controlValue"\n        (input)="updateValue($event)"\n        (blur)="options.showErrors = true"></textarea>\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),gn=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},bn=function(){function t(t,e){this.changeDetector=t,this.jsf=e,this.frameworkInitialized=!1,this.formControl=null,this.parentArray=null,this.isOrderable=!1,this.dynamicTitle=null}return Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return!(!this.layoutNode||!this.widgetOptions.removable||this.widgetOptions.readonly||"$ref"===this.layoutNode.type)&&(!!this.layoutNode.recursiveReference||!(!this.layoutNode.arrayItem||!this.parentArray)&&(!(this.parentArray.items.length-1<=this.parentArray.options.minItems)&&("list"===this.layoutNode.arrayItemType||this.layoutIndex[this.layoutIndex.length-1]===this.parentArray.items.length-2)))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initializeFramework()},t.prototype.ngOnChanges=function(){this.frameworkInitialized||this.initializeFramework(),this.dynamicTitle&&this.updateTitle()},t.prototype.initializeFramework=function(){this.layoutNode?(this.options=o.cloneDeep(this.layoutNode.options||{}),this.widgetLayoutNode=gn({},this.layoutNode,{options:o.cloneDeep(this.layoutNode.options||{})}),this.widgetOptions=this.widgetLayoutNode.options,this.formControl=this.jsf.getFormControl(this),Z(this.widgetOptions.minimum)&&Z(this.widgetOptions.maximum)&&this.widgetOptions.multipleOf>=1&&(this.layoutNode.type="range"),!["$ref","advancedfieldset","authfieldset","button","card","checkbox","expansion-panel","help","message","msg","section","submit","tabarray","tabs"].includes(this.layoutNode.type)&&/{{.+?}}/.test(this.widgetOptions.title||"")&&(this.dynamicTitle=this.widgetOptions.title,this.updateTitle()),this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type&&(this.parentArray=this.jsf.getParentNode(this),this.parentArray&&(this.isOrderable="tab"!==this.parentArray.type.slice(0,3)&&"list"===this.layoutNode.arrayItemType&&!this.widgetOptions.readonly&&this.parentArray.options.orderable)),this.frameworkInitialized=!0):this.options={}},t.prototype.updateTitle=function(){this.widgetLayoutNode.options.title=this.jsf.parseText(this.dynamicTitle,this.jsf.getFormControlValue(this),this.jsf.getFormControlGroup(this).value,this.dataIndex[this.dataIndex.length-1])},t.prototype.removeItem=function(){this.jsf.removeItem(this)},t.decorators=[{type:e.Component,args:[{selector:"material-design-framework",template:'\n    <div\n      [class.array-item]="widgetLayoutNode?.arrayItem && widgetLayoutNode?.type !== \'$ref\'"\n      [orderable]="isOrderable"\n      [dataIndex]="dataIndex"\n      [layoutIndex]="layoutIndex"\n      [layoutNode]="widgetLayoutNode">\n      <svg *ngIf="showRemoveButton"\n        xmlns="http://www.w3.org/2000/svg"\n        height="18" width="18" viewBox="0 0 24 24"\n        class="close-button"\n        (click)="removeItem()">\n        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>\n      </svg>\n      <select-widget-widget\n        [dataIndex]="dataIndex"\n        [layoutIndex]="layoutIndex"\n        [layoutNode]="widgetLayoutNode"></select-widget-widget>\n    </div>\n    <div class="spacer" *ngIf="widgetLayoutNode?.arrayItem && widgetLayoutNode?.type !== \'$ref\'"></div>',styles:["\n    .array-item {\n      border-radius: 2px;\n      box-shadow: 0 3px 1px -2px rgba(0,0,0,.2),\n                  0 2px 2px  0   rgba(0,0,0,.14),\n                  0 1px 5px  0   rgba(0,0,0,.12);\n      padding: 6px;\n      position: relative;\n      transition: all 280ms cubic-bezier(.4, 0, .2, 1);\n    }\n    .close-button {\n      cursor: pointer;\n      position: absolute;\n      top: 6px;\n      right: 6px;\n      fill: rgba(0,0,0,.4);\n      visibility: hidden;\n      z-index: 500;\n    }\n    .close-button:hover { fill: rgba(0,0,0,.8); }\n    .array-item:hover > .close-button { visibility: visible; }\n    .spacer { margin: 6px 0; }\n    [draggable=true]:hover {\n      box-shadow: 0 5px 5px -3px rgba(0,0,0,.2),\n                  0 8px 10px 1px rgba(0,0,0,.14),\n                  0 3px 14px 2px rgba(0,0,0,.12);\n      cursor: move;\n      z-index: 10;\n    }\n    [draggable=true].drag-target-top {\n      box-shadow: 0 -2px 0 #000;\n      position: relative; z-index: 20;\n    }\n    [draggable=true].drag-target-bottom {\n      box-shadow: 0 2px 0 #000;\n      position: relative; z-index: 20;\n    }\n  "]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),vn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xn=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="material-design",e.framework=bn,e.stylesheets=["//fonts.googleapis.com/icon?family=Material+Icons","//fonts.googleapis.com/css?family=Roboto:300,400,500,700"],e.widgets={root:Ko,section:Qo,$ref:Xo,button:en,"button-group":on,checkbox:nn,checkboxes:rn,"chip-list":sn,date:an,file:ln,number:pn,"one-of":tn,radios:cn,select:dn,slider:fn,stepper:mn,tabs:hn,text:un,textarea:yn,"alt-date":"date","any-of":"one-of",card:"section",color:"text","expansion-panel":"section",hidden:"none",image:"none",integer:"number",radiobuttons:"button-group",range:"slider",submit:"button",tagsinput:"chip-list",wizard:"stepper"},e}return vn(o,t),o.decorators=[{type:e.Injectable}],o.ctorParameters=function(){return[]},o}(Eo),In=[Ko,Qo,Xo,tn,en,on,nn,rn,sn,an,ln,un,pn,cn,dn,fn,mn,hn,yn,bn],wn=[l.MatAutocompleteModule,l.MatButtonModule,l.MatButtonToggleModule,l.MatCardModule,l.MatCheckboxModule,l.MatChipsModule,l.MatDatepickerModule,l.MatExpansionModule,l.MatFormFieldModule,l.MatIconModule,l.MatInputModule,l.MatNativeDateModule,l.MatRadioModule,l.MatSelectModule,l.MatSliderModule,l.MatSlideToggleModule,l.MatStepperModule,l.MatTabsModule,l.MatTooltipModule],On=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:Eo,useClass:xn,multi:!0}]}},t.decorators=[{type:e.NgModule,args:[{imports:[s.CommonModule,n.FormsModule,n.ReactiveFormsModule,a.FlexLayoutModule].concat(wn,[Jo]),declarations:In.slice(),exports:In.slice(),entryComponents:In.slice()}]}],t.ctorParameters=function(){return[]},t}(),Cn=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},jn=function(){function t(t,e){this.changeDetector=t,this.jsf=e,this.frameworkInitialized=!1,this.formControl=null,this.debugOutput="",this.debug="",this.parentArray=null,this.isOrderable=!1}return Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return!(!this.options.removable||this.options.readonly||"$ref"===this.layoutNode.type)&&(!!this.layoutNode.recursiveReference||!(!this.layoutNode.arrayItem||!this.parentArray)&&(!(this.parentArray.items.length-1<=this.parentArray.options.minItems)&&("list"===this.layoutNode.arrayItemType||this.layoutIndex[this.layoutIndex.length-1]===this.parentArray.items.length-2)))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initializeFramework(),this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type&&(this.parentArray=this.jsf.getParentNode(this),this.parentArray&&(this.isOrderable="list"===this.layoutNode.arrayItemType&&!this.options.readonly&&this.parentArray.options.orderable))},t.prototype.ngOnChanges=function(){this.frameworkInitialized||this.initializeFramework()},t.prototype.initializeFramework=function(){var t=this;if(this.layoutNode){switch(this.options=o.cloneDeep(this.layoutNode.options),this.widgetLayoutNode=Cn({},this.layoutNode,{options:o.cloneDeep(this.layoutNode.options)}),this.widgetOptions=this.widgetLayoutNode.options,this.formControl=this.jsf.getFormControl(this),this.options.isInputWidget=yt(this.layoutNode.type,["button","checkbox","checkboxes-inline","checkboxes","color","date","datetime-local","datetime","email","file","hidden","image","integer","month","number","password","radio","radiobuttons","radios-inline","radios","range","reset","search","select","submit","tel","text","textarea","time","url","week"]),this.options.title=this.setTitle(),this.options.htmlClass=vt(this.options.htmlClass,"schema-form-"+this.layoutNode.type),"flex"!==this.layoutNode.type&&(this.options.htmlClass="array"===this.layoutNode.type?vt(this.options.htmlClass,"list-group"):this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type?vt(this.options.htmlClass,"list-group-item"):vt(this.options.htmlClass,"form-group")),this.widgetOptions.htmlClass="",this.options.labelHtmlClass=vt(this.options.labelHtmlClass,"control-label"),this.widgetOptions.activeClass=vt(this.widgetOptions.activeClass,"active"),this.options.fieldAddonLeft=this.options.fieldAddonLeft||this.options.prepend,this.options.fieldAddonRight=this.options.fieldAddonRight||this.options.append,this.options.title&&"tab"!==this.layoutNode.type&&!this.options.notitle&&this.options.required&&!this.options.title.includes("*")&&(this.options.title+=' <strong class="text-danger">*</strong>'),this.layoutNode.type){case"checkbox":case"checkboxes":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"checkbox");break;case"checkboxes-inline":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"checkbox"),this.widgetOptions.itemLabelHtmlClass=vt(this.widgetOptions.itemLabelHtmlClass,"checkbox-inline");break;case"radio":case"radios":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"radio");break;case"radios-inline":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"radio"),this.widgetOptions.itemLabelHtmlClass=vt(this.widgetOptions.itemLabelHtmlClass,"radio-inline");break;case"checkboxbuttons":case"radiobuttons":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"btn-group"),this.widgetOptions.itemLabelHtmlClass=vt(this.widgetOptions.itemLabelHtmlClass,"btn"),this.widgetOptions.itemLabelHtmlClass=vt(this.widgetOptions.itemLabelHtmlClass,this.options.style||"btn-default"),this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"sr-only");break;case"button":case"submit":this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"btn"),this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,this.options.style||"btn-info");break;case"array":case"fieldset":case"section":case"conditional":case"advancedfieldset":case"authfieldset":case"selectfieldset":case"optionfieldset":this.options.messageLocation="top";break;case"tabarray":case"tabs":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"tab-content"),this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"tab-pane"),this.widgetOptions.labelHtmlClass=vt(this.widgetOptions.labelHtmlClass,"nav nav-tabs");break;case"$ref":this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"btn pull-right"),this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,this.options.style||"btn-default"),this.options.icon="glyphicon glyphicon-plus";break;default:this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"form-control")}if(this.formControl&&(this.updateHelpBlock(this.formControl.status),this.formControl.statusChanges.subscribe(function(e){return t.updateHelpBlock(e)}),this.options.debug)){this.debugOutput=o.map([],function(t){return JSON.stringify(t,null,2)}).join("\n")}this.frameworkInitialized=!0}},t.prototype.updateHelpBlock=function(t){this.options.helpBlock="INVALID"===t&&this.options.enableErrorState&&this.formControl.errors&&(this.formControl.dirty||this.options.feedbackOnRender)?this.jsf.formatErrors(this.formControl.errors,this.options.validationMessages):this.options.description||this.options.help||null},t.prototype.setTitle=function(){switch(this.layoutNode.type){case"button":case"checkbox":case"section":case"help":case"msg":case"submit":case"message":case"tabarray":case"tabs":case"$ref":return null;case"advancedfieldset":return this.widgetOptions.expandable=!0,this.widgetOptions.title="Advanced options",null;case"authfieldset":return this.widgetOptions.expandable=!0,this.widgetOptions.title="Authentication settings",null;case"fieldset":return this.widgetOptions.title=this.options.title,null;default:return this.widgetOptions.title=null,this.jsf.setItemTitle(this)}},t.prototype.removeItem=function(){this.jsf.removeItem(this)},t.decorators=[{type:e.Component,args:[{selector:"bootstrap-3-framework",template:'\n    <div\n      [class]="options?.htmlClass || \'\'"\n      [class.has-feedback]="options?.feedback && options?.isInputWidget &&\n        (formControl?.dirty || options?.feedbackOnRender)"\n      [class.has-error]="options?.enableErrorState && formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)"\n      [class.has-success]="options?.enableSuccessState && !formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)">\n\n      <button *ngIf="showRemoveButton"\n        class="close pull-right"\n        type="button"\n        (click)="removeItem()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n      </button>\n      <div *ngIf="options?.messageLocation === \'top\'">\n          <p *ngIf="options?.helpBlock"\n          class="help-block"\n          [innerHTML]="options?.helpBlock"></p>\n      </div>\n\n      <label *ngIf="options?.title && layoutNode?.type !== \'tab\'"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [class.sr-only]="options?.notitle"\n        [innerHTML]="options?.title"></label>\n      <p *ngIf="layoutNode?.type === \'submit\' && jsf?.formOptions?.fieldsRequired">\n        <strong class="text-danger">*</strong> = required fields\n      </p>\n      <div [class.input-group]="options?.fieldAddonLeft || options?.fieldAddonRight">\n        <span *ngIf="options?.fieldAddonLeft"\n          class="input-group-addon"\n          [innerHTML]="options?.fieldAddonLeft"></span>\n\n        <select-widget-widget\n          [layoutNode]="widgetLayoutNode"\n          [dataIndex]="dataIndex"\n          [layoutIndex]="layoutIndex"></select-widget-widget>\n\n        <span *ngIf="options?.fieldAddonRight"\n          class="input-group-addon"\n          [innerHTML]="options?.fieldAddonRight"></span>\n      </div>\n\n      <span *ngIf="options?.feedback && options?.isInputWidget &&\n          !options?.fieldAddonRight && !layoutNode.arrayItem &&\n          (formControl?.dirty || options?.feedbackOnRender)"\n        [class.glyphicon-ok]="options?.enableSuccessState && !formControl?.errors"\n        [class.glyphicon-remove]="options?.enableErrorState && formControl?.errors"\n        aria-hidden="true"\n        class="form-control-feedback glyphicon"></span>\n      <div *ngIf="options?.messageLocation !== \'top\'">\n        <p *ngIf="options?.helpBlock"\n          class="help-block"\n          [innerHTML]="options?.helpBlock"></p>\n      </div>\n    </div>\n\n    <div *ngIf="debug && debugOutput">debug: <pre>{{debugOutput}}</pre></div>\n  ',styles:["\n    :host /deep/ .list-group-item .form-control-feedback { top: 40; }\n    :host /deep/ .checkbox,\n    :host /deep/ .radio { margin-top: 0; margin-bottom: 0; }\n    :host /deep/ .checkbox-inline,\n    :host /deep/ .checkbox-inline + .checkbox-inline,\n    :host /deep/ .checkbox-inline + .radio-inline,\n    :host /deep/ .radio-inline,\n    :host /deep/ .radio-inline + .radio-inline,\n    :host /deep/ .radio-inline + .checkbox-inline { margin-left: 0; margin-right: 10px; }\n    :host /deep/ .checkbox-inline:last-child,\n    :host /deep/ .radio-inline:last-child { margin-right: 0; }\n    :host /deep/ .ng-invalid.ng-touched { border: 1px solid #f44336; }\n  "]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),Fn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kn=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="bootstrap-3",e.framework=jn,e.stylesheets=["//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css","//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"],e.scripts=["//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js","//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js","//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"],e}return Fn(o,t),o.decorators=[{type:e.Injectable}],o.ctorParameters=function(){return[]},o}(Eo),Nn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:Eo,useClass:kn,multi:!0}]}},t.decorators=[{type:e.NgModule,args:[{imports:[s.CommonModule,Jo],declarations:[jn],exports:[jn],entryComponents:[jn]}]}],t.ctorParameters=function(){return[]},t}(),Pn=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},_n=function(){function t(t,e){this.changeDetector=t,this.jsf=e,this.frameworkInitialized=!1,this.formControl=null,this.debugOutput="",this.debug="",this.parentArray=null,this.isOrderable=!1}return Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return!(!this.options.removable||this.options.readonly||"$ref"===this.layoutNode.type)&&(!!this.layoutNode.recursiveReference||!(!this.layoutNode.arrayItem||!this.parentArray)&&(!(this.parentArray.items.length-1<=this.parentArray.options.minItems)&&("list"===this.layoutNode.arrayItemType||this.layoutIndex[this.layoutIndex.length-1]===this.parentArray.items.length-2)))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initializeFramework(),this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type&&(this.parentArray=this.jsf.getParentNode(this),this.parentArray&&(this.isOrderable="list"===this.layoutNode.arrayItemType&&!this.options.readonly&&this.parentArray.options.orderable))},t.prototype.ngOnChanges=function(){this.frameworkInitialized||this.initializeFramework()},t.prototype.initializeFramework=function(){var t=this;if(this.layoutNode){switch(this.options=o.cloneDeep(this.layoutNode.options),this.widgetLayoutNode=Pn({},this.layoutNode,{options:o.cloneDeep(this.layoutNode.options)}),this.widgetOptions=this.widgetLayoutNode.options,this.formControl=this.jsf.getFormControl(this),this.options.isInputWidget=yt(this.layoutNode.type,["button","checkbox","checkboxes-inline","checkboxes","color","date","datetime-local","datetime","email","file","hidden","image","integer","month","number","password","radio","radiobuttons","radios-inline","radios","range","reset","search","select","submit","tel","text","textarea","time","url","week"]),this.options.title=this.setTitle(),this.options.htmlClass=vt(this.options.htmlClass,"schema-form-"+this.layoutNode.type),this.options.htmlClass="array"===this.layoutNode.type?vt(this.options.htmlClass,"list-group"):this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type?vt(this.options.htmlClass,"list-group-item"):vt(this.options.htmlClass,"form-group"),this.widgetOptions.htmlClass="",this.options.labelHtmlClass=vt(this.options.labelHtmlClass,"control-label"),this.widgetOptions.activeClass=vt(this.widgetOptions.activeClass,"active"),this.options.fieldAddonLeft=this.options.fieldAddonLeft||this.options.prepend,this.options.fieldAddonRight=this.options.fieldAddonRight||this.options.append,this.options.title&&"tab"!==this.layoutNode.type&&!this.options.notitle&&this.options.required&&!this.options.title.includes("*")&&(this.options.title+=' <strong class="text-danger">*</strong>'),this.layoutNode.type){case"checkbox":case"checkboxes":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"checkbox");break;case"checkboxes-inline":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"checkbox"),this.widgetOptions.itemLabelHtmlClass=vt(this.widgetOptions.itemLabelHtmlClass,"checkbox-inline");break;case"radio":case"radios":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"radio");break;case"radios-inline":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"radio"),this.widgetOptions.itemLabelHtmlClass=vt(this.widgetOptions.itemLabelHtmlClass,"radio-inline");break;case"checkboxbuttons":case"radiobuttons":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"btn-group"),this.widgetOptions.itemLabelHtmlClass=vt(this.widgetOptions.itemLabelHtmlClass,"btn"),this.widgetOptions.itemLabelHtmlClass=vt(this.widgetOptions.itemLabelHtmlClass,this.options.style||"btn-default"),this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"sr-only");break;case"button":case"submit":this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"btn"),this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,this.options.style||"btn-info");break;case"array":case"fieldset":case"section":case"conditional":case"advancedfieldset":case"authfieldset":case"selectfieldset":case"optionfieldset":this.options.messageLocation="top";break;case"tabarray":case"tabs":this.widgetOptions.htmlClass=vt(this.widgetOptions.htmlClass,"tab-content"),this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"tab-pane"),this.widgetOptions.labelHtmlClass=vt(this.widgetOptions.labelHtmlClass,"nav nav-tabs");break;case"$ref":this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"btn pull-right"),this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,this.options.style||"btn-default"),this.options.icon="glyphicon glyphicon-plus";break;default:this.widgetOptions.fieldHtmlClass=vt(this.widgetOptions.fieldHtmlClass,"form-control")}if(this.formControl&&(this.updateHelpBlock(this.formControl.status),this.formControl.statusChanges.subscribe(function(e){return t.updateHelpBlock(e)}),this.options.debug)){this.debugOutput=o.map([],function(t){return JSON.stringify(t,null,2)}).join("\n")}this.frameworkInitialized=!0}},t.prototype.updateHelpBlock=function(t){this.options.helpBlock="INVALID"===t&&this.options.enableErrorState&&this.formControl.errors&&(this.formControl.dirty||this.options.feedbackOnRender)?this.jsf.formatErrors(this.formControl.errors,this.options.validationMessages):this.options.description||this.options.help||null},t.prototype.setTitle=function(){switch(this.layoutNode.type){case"button":case"checkbox":case"section":case"help":case"msg":case"submit":case"message":case"tabarray":case"tabs":case"$ref":return null;case"advancedfieldset":return this.widgetOptions.expandable=!0,this.widgetOptions.title="Advanced options",null;case"authfieldset":return this.widgetOptions.expandable=!0,this.widgetOptions.title="Authentication settings",null;case"fieldset":return this.widgetOptions.title=this.options.title,null;default:return this.widgetOptions.title=null,this.jsf.setItemTitle(this)}},t.prototype.removeItem=function(){this.jsf.removeItem(this)},t.decorators=[{type:e.Component,args:[{selector:"bootstrap-4-framework",template:'\n    <div\n      [class]="options?.htmlClass || \'\'"\n      [class.has-feedback]="options?.feedback && options?.isInputWidget &&\n        (formControl?.dirty || options?.feedbackOnRender)"\n      [class.has-error]="options?.enableErrorState && formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)"\n      [class.has-success]="options?.enableSuccessState && !formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)">\n\n      <button *ngIf="showRemoveButton"\n        class="close pull-right"\n        type="button"\n        (click)="removeItem()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n      </button>\n      <div *ngIf="options?.messageLocation === \'top\'">\n        <p *ngIf="options?.helpBlock"\n          class="help-block"\n          [innerHTML]="options?.helpBlock"></p>\n      </div>\n\n      <label *ngIf="options?.title && layoutNode?.type !== \'tab\'"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [class.sr-only]="options?.notitle"\n        [innerHTML]="options?.title"></label>\n      <p *ngIf="layoutNode?.type === \'submit\' && jsf?.formOptions?.fieldsRequired">\n        <strong class="text-danger">*</strong> = required fields\n      </p>\n      <div [class.input-group]="options?.fieldAddonLeft || options?.fieldAddonRight">\n        <span *ngIf="options?.fieldAddonLeft"\n          class="input-group-addon"\n          [innerHTML]="options?.fieldAddonLeft"></span>\n\n        <select-widget-widget\n          [layoutNode]="widgetLayoutNode"\n          [dataIndex]="dataIndex"\n          [layoutIndex]="layoutIndex"></select-widget-widget>\n\n        <span *ngIf="options?.fieldAddonRight"\n          class="input-group-addon"\n          [innerHTML]="options?.fieldAddonRight"></span>\n      </div>\n\n      <span *ngIf="options?.feedback && options?.isInputWidget &&\n          !options?.fieldAddonRight && !layoutNode.arrayItem &&\n          (formControl?.dirty || options?.feedbackOnRender)"\n        [class.glyphicon-ok]="options?.enableSuccessState && !formControl?.errors"\n        [class.glyphicon-remove]="options?.enableErrorState && formControl?.errors"\n        aria-hidden="true"\n        class="form-control-feedback glyphicon"></span>\n      <div *ngIf="options?.messageLocation !== \'top\'">\n        <p *ngIf="options?.helpBlock"\n          class="help-block"\n          [innerHTML]="options?.helpBlock"></p>\n      </div>\n    </div>\n\n    <div *ngIf="debug && debugOutput">debug: <pre>{{debugOutput}}</pre></div>\n  ',styles:["\n    :host /deep/ .list-group-item .form-control-feedback { top: 40px; }\n    :host /deep/ .checkbox,\n    :host /deep/ .radio { margin-top: 0; margin-bottom: 0; }\n    :host /deep/ .checkbox-inline,\n    :host /deep/ .checkbox-inline + .checkbox-inline,\n    :host /deep/ .checkbox-inline + .radio-inline,\n    :host /deep/ .radio-inline,\n    :host /deep/ .radio-inline + .radio-inline,\n    :host /deep/ .radio-inline + .checkbox-inline { margin-left: 0; margin-right: 10px; }\n    :host /deep/ .checkbox-inline:last-child,\n    :host /deep/ .radio-inline:last-child { margin-right: 0; }\n    :host /deep/ .ng-invalid.ng-touched { border: 1px solid #f44336; }\n  "]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:Je}]},t.propDecorators={layoutNode:[{type:e.Input}],layoutIndex:[{type:e.Input}],dataIndex:[{type:e.Input}]},t}(),Mn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ln=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="bootstrap-4",e.framework=_n,e.stylesheets=["//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"],e.scripts=["//code.jquery.com/jquery-3.2.1.slim.min.js","//cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js","//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"],e}return Mn(o,t),o.decorators=[{type:e.Injectable}],o.ctorParameters=function(){return[]},o}(Eo),Dn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:Eo,useClass:Ln,multi:!0}]}},t.decorators=[{type:e.NgModule,args:[{imports:[s.CommonModule,Jo],declarations:[_n],exports:[_n],entryComponents:[_n]}]}],t.ctorParameters=function(){return[]},t}();t.d=In,t.b=wn,t.a=Vo,t.c=Wo,t._executeValidators=B,t._executeAsyncValidators=G,t._mergeObjects=U,t._mergeErrors=Y,t.isDefined=Z,t.hasValue=K,t.isEmpty=Q,t.isString=X,t.isNumber=tt,t.isInteger=et,t.isBoolean=ot,t.isFunction=function(t){return"function"==typeof t},t.isObject=nt,t.isArray=rt,t.isDate=it,t.isMap=st,t.isSet=at,t.isPromise=ft,t.isObservable=mt,t.getType=lt,t.isType=ut,t.isPrimitive=pt,t.toJavaScriptType=ct,t.toSchemaType=dt,t._toPromise=function(t){return ft(t)?t:J.call(t)},t.toObservable=ht,t.inArray=yt,t.xor=gt,t.addClasses=vt,t.copy=xt,t.forEach=It,t.forEachCopy=wt,t.hasOwn=Ot,t.mergeFilteredObject=Ct,t.uniqueItems=jt,t.commonItems=Ft,t.fixTitle=kt,t.toTitleCase=Nt,t.JsonPointer=_t,t.JsonValidators=Xt,t.buildSchemaFromLayout=ne,t.buildSchemaFromData=re,t.getFromSchema=ie,t.removeRecursiveReferences=se,t.getInputType=ae,t.checkInlineType=le,t.isInputRequired=ue,t.updateInputOptions=pe,t.getTitleMapFromOneOf=ce,t.getControlValidators=de,t.resolveSchemaReferences=fe,t.getSubSchema=me,t.combineAllOf=he,t.fixRequiredArrayProperties=ye,t.convertSchemaToDraft6=be,t.mergeSchemas=ee,t.buildFormGroupTemplate=ve,t.buildFormGroup=xe,t.formatFormData=we,t.getControl=Oe,t.setRequiredFields=Ie,t.buildLayout=je,t.buildLayoutFromSchema=Fe,t.mapLayout=ke,t.getLayoutNode=Ne,t.buildTitleMap=Pe,t.dateToString=_e,t.stringToDate=Me,t.findDate=Le,t.OrderableDirective=Be,t.JsonSchemaFormComponent=Ro,t.JsonSchemaFormService=Je,t.JsonSchemaFormModule=Zo,t.WidgetLibraryService=Ao,t.WidgetLibraryModule=Jo,t.Widget=Ge,t.AddReferenceComponent=Ye,t.OneOfComponent=Ke,t.ButtonComponent=Xe,t.CheckboxComponent=eo,t.CheckboxesComponent=no,t.FileComponent=io,t.HiddenComponent=Ho,t.InputComponent=ao,t.MessageComponent=uo,t.NoneComponent=co,t.NumberComponent=mo,t.RadiosComponent=yo,t.RootComponent=bo,t.SectionComponent=xo,t.SelectComponent=wo,t.SelectFrameworkComponent=Fo,t.SelectWidgetComponent=No,t.SubmitComponent=_o,t.TabComponent=zo,t.TabsComponent=Lo,t.TemplateComponent=Co,t.TextareaComponent=So,t.FrameworkLibraryService=To,t.Framework=Eo,t.NoFramework=Uo,t.NoFrameworkComponent=Bo,t.NoFrameworkModule=Yo,t.MaterialDesignFramework=xn,t.FlexLayoutRootComponent=Ko,t.FlexLayoutSectionComponent=Qo,t.MaterialAddReferenceComponent=Xo,t.MaterialOneOfComponent=tn,t.MaterialButtonComponent=en,t.MaterialButtonGroupComponent=on,t.MaterialCheckboxComponent=nn,t.MaterialCheckboxesComponent=rn,t.MaterialChipListComponent=sn,t.MaterialDatepickerComponent=an,t.MaterialFileComponent=ln,t.MaterialInputComponent=un,t.MaterialNumberComponent=pn,t.MaterialRadiosComponent=cn,t.MaterialSelectComponent=dn,t.MaterialSliderComponent=fn,t.MaterialStepperComponent=mn,t.MaterialTabsComponent=hn,t.MaterialTextareaComponent=yn,t.MaterialDesignFrameworkComponent=bn,t.MaterialDesignFrameworkModule=On,t.Bootstrap3Framework=kn,t.Bootstrap3FrameworkComponent=jn,t.Bootstrap3FrameworkModule=Nn,t.Bootstrap4Framework=Ln,t.Bootstrap4FrameworkComponent=_n,t.Bootstrap4FrameworkModule=Dn,Object.defineProperty(t,"__esModule",{value:!0})});
